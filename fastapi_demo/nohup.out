[2022-11-27 16:48:08 +0530] [64132] [INFO] Starting gunicorn 20.1.0
[2022-11-27 16:48:08 +0530] [64132] [INFO] Listening at: http://0.0.0.0:8080 (64132)
[2022-11-27 16:48:08 +0530] [64132] [INFO] Using worker: uvicorn.workers.UvicornWorker
[2022-11-27 16:48:08 +0530] [64135] [INFO] Booting worker with pid: 64135
[2022-11-27 16:48:08 +0530] [64135] [INFO] Started server process [64135]
[2022-11-27 16:48:08 +0530] [64135] [INFO] Waiting for application startup.
[2022-11-27 16:48:08 +0530] [64135] [INFO] Application startup complete.
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 562)
Length of mel chunks: 207
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/13 [00:00<?, ?it/s][A
  8%|â–Š         | 1/13 [00:04<00:48,  4.06s/it][A
 15%|â–ˆâ–Œ        | 2/13 [00:05<00:25,  2.34s/it][A
 23%|â–ˆâ–ˆâ–Ž       | 3/13 [00:06<00:17,  1.79s/it][A
 31%|â–ˆâ–ˆâ–ˆ       | 4/13 [00:07<00:13,  1.54s/it][A
 38%|â–ˆâ–ˆâ–ˆâ–Š      | 5/13 [00:08<00:11,  1.41s/it][A
 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 6/13 [00:09<00:09,  1.33s/it][A
 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 7/13 [00:11<00:07,  1.28s/it][A
 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 8/13 [00:12<00:06,  1.24s/it][A
 69%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰   | 9/13 [00:13<00:04,  1.21s/it][A
 77%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹  | 10/13 [00:14<00:03,  1.19s/it][A
 85%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 11/13 [00:15<00:02,  1.21s/it][A
 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 12/13 [00:16<00:01,  1.22s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 13/13 [00:19<00:00,  1.73s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 13/13 [00:19<00:00,  1.53s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:24<00:00, 24.50s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:24<00:00, 24.50s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Metadata:
    encoder         : Lavf58.29.100
  Duration: 00:00:07.02, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:06.90, start: 0.000000, bitrate: 1119 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1112 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x561961b9efa0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x561961b9efa0] using SAR=1/1
[libx264 @ 0x561961b9efa0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x561961b9efa0] profile High, level 3.1
[libx264 @ 0x561961b9efa0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 128 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  121 fps=0.0 q=29.0 size=       0kB time=00:00:01.96 bitrate=   0.2kbits/s speed=3.93x    frame=  207 fps=198 q=-1.0 Lsize=     590kB time=00:00:07.01 bitrate= 688.7kbits/s speed=6.72x    
video:466kB audio:116kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.477600%
[libx264 @ 0x561961b9efa0] frame I:1     Avg QP:20.43  size: 12654
[libx264 @ 0x561961b9efa0] frame P:87    Avg QP:21.22  size:  3905
[libx264 @ 0x561961b9efa0] frame B:119   Avg QP:25.62  size:  1042
[libx264 @ 0x561961b9efa0] consecutive B-frames: 15.5% 18.4% 15.9% 50.2%
[libx264 @ 0x561961b9efa0] mb I  I16..4: 28.8% 69.9%  1.3%
[libx264 @ 0x561961b9efa0] mb P  I16..4:  3.0%  8.8%  0.1%  P16..4: 37.6%  8.4%  3.7%  0.0%  0.0%    skip:38.4%
[libx264 @ 0x561961b9efa0] mb B  I16..4:  0.3%  1.4%  0.0%  B16..8: 32.3%  1.8%  0.1%  direct: 0.3%  skip:63.9%  L0:52.8% L1:45.3% BI: 2.0%
[libx264 @ 0x561961b9efa0] 8x8 transform intra:74.8% inter:85.5%
[libx264 @ 0x561961b9efa0] coded y,uvDC,uvAC intra: 41.9% 31.2% 1.0% inter: 6.5% 5.3% 0.0%
[libx264 @ 0x561961b9efa0] i16 v,h,dc,p: 25% 34% 20% 21%
[libx264 @ 0x561961b9efa0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 28% 38%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x561961b9efa0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 38% 26% 13%  3%  4%  5%  5%  4%  2%
[libx264 @ 0x561961b9efa0] i8c dc,h,v,p: 61% 18% 20%  2%
[libx264 @ 0x561961b9efa0] Weighted P-Frames: Y:1.1% UV:0.0%
[libx264 @ 0x561961b9efa0] ref P L0: 66.3%  9.9% 17.1%  6.7%  0.1%
[libx264 @ 0x561961b9efa0] ref B L0: 82.3% 14.4%  3.3%
[libx264 @ 0x561961b9efa0] ref B L1: 95.6%  4.4%
[libx264 @ 0x561961b9efa0] kb/s:552.33
[aac @ 0x561961b9ff60] Qavg: 703.019

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
[2022-11-27 16:50:40 +0530] [64132] [INFO] Handling signal: term
[2022-11-27 16:50:40 +0530] [64135] [INFO] Shutting down
[2022-11-27 16:50:40 +0530] [64135] [INFO] Error while closing socket [Errno 9] Bad file descriptor
[2022-11-27 16:50:41 +0530] [64135] [INFO] Waiting for application shutdown.
[2022-11-27 16:50:41 +0530] [64135] [INFO] Application shutdown complete.
[2022-11-27 16:50:41 +0530] [64135] [INFO] Finished server process [64135]
[2022-11-27 16:50:41 +0530] [64135] [INFO] Worker exiting (pid: 64135)
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'HAP']
happiness <class 'str'>
[2022-11-27 16:50:41 +0530] [64132] [INFO] Shutting down: Master
INFO:     Started server process [64535]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
INFO:     192.168.1.27:48454 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48456 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48458 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48460 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48462 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48464 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48466 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48494 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48496 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48498 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48500 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48502 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:49266 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:49268 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:49270 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:49272 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:49274 - "GET /emo/examples HTTP/1.0" 404 Not Found
INFO:     Shutting down
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     Finished server process [64535]
INFO:     Started server process [72129]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
INFO:     192.168.1.27:50956 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:50958 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:50960 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:50962 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:50964 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:50966 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:50968 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:50970 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:50972 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:50974 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:50976 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:50978 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:50980 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:50982 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:50984 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51166 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51168 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51170 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51172 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51174 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:51176 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51178 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51180 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:51182 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51184 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51186 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:51188 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:53168 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:53170 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     281kB time=00:00:03.00 bitrate= 768.2kbits/s speed= 345x    
video:0kB audio:281kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.027083%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 35
Extracting raw audio...
(80, 241)
Length of mel chunks: 2826
  0%|          | 0/12 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:03<00:06,  3.36s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:04<00:01,  1.85s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.26s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.57s/it]
  8%|â–Š         | 1/12 [00:10<01:57, 10.72s/it] 17%|â–ˆâ–‹        | 2/12 [00:13<01:02,  6.23s/it] 25%|â–ˆâ–ˆâ–Œ       | 3/12 [00:16<00:41,  4.66s/it] 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 4/12 [00:18<00:29,  3.64s/it] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 5/12 [00:20<00:19,  2.81s/it] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 6/12 [00:22<00:15,  2.55s/it] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 7/12 [00:24<00:11,  2.36s/it] 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 8/12 [00:25<00:07,  2.00s/it] 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 9/12 [00:26<00:05,  1.89s/it] 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 10/12 [00:28<00:03,  1.67s/it] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 11/12 [00:29<00:01,  1.57s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 12/12 [00:29<00:00,  1.22s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 12/12 [00:29<00:00,  2.49s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:03.00, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.83, start: 0.000000, bitrate: 33002 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 32684 kb/s, 1k fps, 1k tbr, 1k tbn, 1k tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x559036822e80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x559036822e80] using SAR=1/1
[libx264 @ 0x559036822e80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x559036822e80] profile High, level 5.2
[libx264 @ 0x559036822e80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 1k fps, 16k tbn, 1k tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  194 fps=0.0 q=33.0 size=       0kB time=00:00:00.17 bitrate=   2.2kbits/s speed=0.341x    frame=  388 fps=388 q=33.0 size=     256kB time=00:00:00.38 bitrate=5462.3kbits/s speed=0.384x    frame=  580 fps=386 q=33.0 size=     512kB time=00:00:00.55 bitrate=7562.5kbits/s speed=0.369x    frame=  767 fps=382 q=33.0 size=     512kB time=00:00:00.72 bitrate=5783.1kbits/s speed=0.362x    frame=  970 fps=386 q=33.0 size=     768kB time=00:00:00.93 bitrate=6703.0kbits/s speed=0.374x    frame= 1159 fps=385 q=33.0 size=    1024kB time=00:00:01.15 bitrate=7282.1kbits/s speed=0.383x    frame= 1363 fps=388 q=33.0 size=    1280kB time=00:00:01.32 bitrate=7928.0kbits/s speed=0.377x    frame= 1565 fps=390 q=33.0 size=    1536kB time=00:00:01.53 bitrate=8192.2kbits/s speed=0.383x    frame= 1762 fps=390 q=33.0 size=    1536kB time=00:00:01.74 bitrate=7193.2kbits/s speed=0.388x    frame= 1963 fps=391 q=33.0 size=    1792kB time=00:00:01.96 bitrate=7479.8kbits/s speed=0.391x    frame= 2160 fps=391 q=33.0 size=    2048kB time=00:00:02.13 bitrate=7864.5kbits/s speed=0.386x    frame= 2358 fps=391 q=33.0 size=    2304kB time=00:00:02.34 bitrate=8043.2kbits/s speed=0.389x    frame= 2551 fps=391 q=33.0 size=    2560kB time=00:00:02.51 bitrate=8331.0kbits/s speed=0.386x    frame= 2741 fps=390 q=33.0 size=    2816kB time=00:00:02.73 bitrate=8448.1kbits/s speed=0.389x    frame= 2826 fps=385 q=-1.0 Lsize=    2999kB time=00:00:03.00 bitrate=8166.3kbits/s speed=0.41x    
video:2946kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.893226%
[libx264 @ 0x559036822e80] frame I:12    Avg QP:22.62  size:  8858
[libx264 @ 0x559036822e80] frame P:2024  Avg QP:26.13  size:  1280
[libx264 @ 0x559036822e80] frame B:790   Avg QP:27.61  size:   404
[libx264 @ 0x559036822e80] consecutive B-frames: 55.1% 18.1% 14.0% 12.7%
[libx264 @ 0x559036822e80] mb I  I16..4: 24.3% 68.1%  7.6%
[libx264 @ 0x559036822e80] mb P  I16..4:  2.5%  4.3%  0.2%  P16..4: 24.4%  2.6%  0.9%  0.0%  0.0%    skip:65.3%
[libx264 @ 0x559036822e80] mb B  I16..4:  0.5%  0.9%  0.0%  B16..8: 19.1%  0.7%  0.0%  direct: 0.1%  skip:78.6%  L0:51.2% L1:48.0% BI: 0.8%
[libx264 @ 0x559036822e80] 8x8 transform intra:62.3% inter:90.9%
[libx264 @ 0x559036822e80] coded y,uvDC,uvAC intra: 24.7% 39.3% 1.5% inter: 3.1% 5.6% 0.0%
[libx264 @ 0x559036822e80] i16 v,h,dc,p: 29% 24% 20% 27%
[libx264 @ 0x559036822e80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 20% 45%  2%  1%  2%  1%  1%  2%
[libx264 @ 0x559036822e80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 19% 14%  2%  5%  8%  4%  5%  3%
[libx264 @ 0x559036822e80] i8c dc,h,v,p: 55% 25% 17%  3%
[libx264 @ 0x559036822e80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x559036822e80] ref P L0: 76.4%  8.7% 11.0%  4.0%
[libx264 @ 0x559036822e80] ref B L0: 85.2% 13.4%  1.4%
[libx264 @ 0x559036822e80] ref B L1: 98.9%  1.1%
[libx264 @ 0x559036822e80] kb/s:8538.62
[aac @ 0x559036827b60] Qavg: 113.450

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:53172 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53174 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53176 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53178 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53180 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:53202 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:53204 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     186kB time=00:00:01.98 bitrate= 768.3kbits/s speed= 273x    
video:0kB audio:186kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.041035%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 107
Extracting raw audio...
(80, 159)
Length of mel chunks: 55
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:09,  3.12s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:03<00:03,  1.73s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:04<00:01,  1.28s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.22s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.44s/it]
  0%|          | 0/1 [00:06<?, ?it/s]
Traceback (most recent call last):
  File "static/Emotional-Talking-Faces/inference.py", line 298, in <module>
    main()
  File "static/Emotional-Talking-Faces/inference.py", line 263, in main
    total=int(np.ceil(float(len(mel_chunks))/batch_size)))):
  File "/home/sahil/fastapi_demo/venv/lib/python3.7/site-packages/tqdm/std.py", line 1195, in __iter__
    for obj in iterable:
  File "static/Emotional-Talking-Faces/inference.py", line 119, in datagen
    face_det_results = face_detect(frames) # BGR2RGB for CNN face detection
  File "static/Emotional-Talking-Faces/inference.py", line 98, in face_detect
    raise ValueError('Face not detected! Ensure the video contains a face in all the frames.')
ValueError: Face not detected! Ensure the video contains a face in all the frames.
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
command does not work
INFO:     192.168.1.27:53206 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53208 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:53230 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53232 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:53234 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53236 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53238 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53300 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53302 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53304 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53306 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53308 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:53310 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53312 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53314 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53316 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53318 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53320 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53322 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53324 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53326 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53328 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53330 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53332 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53354 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53356 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53358 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53360 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53362 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53364 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53366 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53368 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53370 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53372 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53374 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53376 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53378 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    major_brand     : M4A 
    minor_version   : 512
    compatible_brands: isomiso2
    encoder         : Lavf58.20.100
  Duration: 00:00:04.47, start: 0.011995, bitrate: 128 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 128 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    major_brand     : M4A 
    minor_version   : 512
    compatible_brands: isomiso2
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     384kB time=00:00:04.45 bitrate= 705.7kbits/s speed= 475x    
video:0kB audio:384kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.019851%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 357)
Length of mel chunks: 130
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|â–ˆ         | 1/9 [00:04<00:33,  4.14s/it][A
 22%|â–ˆâ–ˆâ–       | 2/9 [00:05<00:16,  2.37s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 3/9 [00:06<00:10,  1.80s/it][A
 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 4/9 [00:07<00:07,  1.54s/it][A
 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 5/9 [00:08<00:05,  1.42s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 6/9 [00:09<00:04,  1.34s/it][A
 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 7/9 [00:11<00:02,  1.29s/it][A
 89%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰ | 8/9 [00:12<00:01,  1.23s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:12<00:00,  1.01s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:12<00:00,  1.42s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:16<00:00, 16.15s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:16<00:00, 16.15s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:04.45, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:04.33, start: 0.000000, bitrate: 1110 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1102 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5573f73bd120] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5573f73bd120] using SAR=1/1
[libx264 @ 0x5573f73bd120] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5573f73bd120] profile High, level 3.1
[libx264 @ 0x5573f73bd120] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  130 fps=0.0 q=29.0 size=       0kB time=00:00:03.94 bitrate=   0.1kbits/s speed=7.89x    frame=  130 fps=0.0 q=-1.0 Lsize=     342kB time=00:00:04.45 bitrate= 628.7kbits/s speed=6.87x    
video:297kB audio:40kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.738080%
[libx264 @ 0x5573f73bd120] frame I:1     Avg QP:20.46  size: 12605
[libx264 @ 0x5573f73bd120] frame P:57    Avg QP:21.32  size:  3715
[libx264 @ 0x5573f73bd120] frame B:72    Avg QP:25.51  size:  1093
[libx264 @ 0x5573f73bd120] consecutive B-frames: 20.8% 12.3% 11.5% 55.4%
[libx264 @ 0x5573f73bd120] mb I  I16..4: 29.1% 69.9%  1.0%
[libx264 @ 0x5573f73bd120] mb P  I16..4:  3.0%  7.7%  0.1%  P16..4: 37.1%  8.3%  3.4%  0.0%  0.0%    skip:40.3%
[libx264 @ 0x5573f73bd120] mb B  I16..4:  0.4%  1.7%  0.0%  B16..8: 33.9%  1.9%  0.1%  direct: 0.3%  skip:61.8%  L0:52.0% L1:46.3% BI: 1.6%
[libx264 @ 0x5573f73bd120] 8x8 transform intra:72.5% inter:86.4%
[libx264 @ 0x5573f73bd120] coded y,uvDC,uvAC intra: 40.5% 31.5% 0.9% inter: 6.5% 5.5% 0.0%
[libx264 @ 0x5573f73bd120] i16 v,h,dc,p: 27% 33% 19% 22%
[libx264 @ 0x5573f73bd120] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 27% 39%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x5573f73bd120] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 21% 13%  4%  5%  6%  6%  4%  3%
[libx264 @ 0x5573f73bd120] i8c dc,h,v,p: 61% 18% 20%  2%
[libx264 @ 0x5573f73bd120] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5573f73bd120] ref P L0: 67.1% 10.1% 16.5%  6.3%
[libx264 @ 0x5573f73bd120] ref B L0: 83.0% 13.0%  4.0%
[libx264 @ 0x5573f73bd120] ref B L1: 94.8%  5.2%
[libx264 @ 0x5573f73bd120] kb/s:559.54
[aac @ 0x5573f73c8e20] Qavg: 592.319

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:53380 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53382 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53384 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53386 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53388 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53396 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53398 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53400 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53402 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:53404 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53406 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:15,  3.99s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:06,  2.31s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:06<00:03,  1.79s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:07<00:01,  1.54s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.10s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.55s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.12s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.12s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 1138 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1129 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x563a11ddda00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x563a11ddda00] using SAR=1/1
[libx264 @ 0x563a11ddda00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x563a11ddda00] profile High, level 3.1
[libx264 @ 0x563a11ddda00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/FEA.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     174kB time=00:00:02.30 bitrate= 618.8kbits/s speed=5.23x    
video:154kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.479432%
[libx264 @ 0x563a11ddda00] frame I:1     Avg QP:20.77  size: 12583
[libx264 @ 0x563a11ddda00] frame P:31    Avg QP:21.44  size:  3629
[libx264 @ 0x563a11ddda00] frame B:33    Avg QP:25.13  size:   978
[libx264 @ 0x563a11ddda00] consecutive B-frames: 24.6% 15.4% 23.1% 36.9%
[libx264 @ 0x563a11ddda00] mb I  I16..4: 29.0% 69.8%  1.3%
[libx264 @ 0x563a11ddda00] mb P  I16..4:  2.8%  8.8%  0.1%  P16..4: 37.9%  8.0%  3.3%  0.0%  0.0%    skip:39.1%
[libx264 @ 0x563a11ddda00] mb B  I16..4:  0.3%  1.1%  0.0%  B16..8: 33.9%  1.5%  0.1%  direct: 0.2%  skip:62.8%  L0:52.3% L1:45.8% BI: 1.9%
[libx264 @ 0x563a11ddda00] 8x8 transform intra:74.3% inter:86.9%
[libx264 @ 0x563a11ddda00] coded y,uvDC,uvAC intra: 42.8% 33.9% 1.0% inter: 6.2% 5.5% 0.0%
[libx264 @ 0x563a11ddda00] i16 v,h,dc,p: 28% 35% 20% 18%
[libx264 @ 0x563a11ddda00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x563a11ddda00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 35% 24% 12%  4%  6%  4%  7%  5%  3%
[libx264 @ 0x563a11ddda00] i8c dc,h,v,p: 58% 20% 21%  2%
[libx264 @ 0x563a11ddda00] Weighted P-Frames: Y:6.5% UV:0.0%
[libx264 @ 0x563a11ddda00] ref P L0: 67.3% 11.0% 15.9%  5.6%  0.2%
[libx264 @ 0x563a11ddda00] ref B L0: 81.9% 15.9%  2.2%
[libx264 @ 0x563a11ddda00] ref B L1: 97.5%  2.5%
[libx264 @ 0x563a11ddda00] kb/s:581.10
[aac @ 0x563a11dde760] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
FEA
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion FEA
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'FEA']
fear <class 'str'>
INFO:     192.168.1.27:53408 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53410 - "GET /emo/syncInput?emotion=fear HTTP/1.0" 200 OK
INFO:     192.168.1.27:53412 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53438 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53440 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53442 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53444 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53446 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:04<00:16,  4.08s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:07,  2.38s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:06<00:04,  2.00s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:08<00:01,  1.77s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:08<00:00,  1.25s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:08<00:00,  1.71s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.98s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.98s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55cf9509ea00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55cf9509ea00] using SAR=1/1
[libx264 @ 0x55cf9509ea00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55cf9509ea00] profile High, level 3.1
[libx264 @ 0x55cf9509ea00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     178kB time=00:00:02.30 bitrate= 631.5kbits/s speed=5.43x    
video:158kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.431081%
[libx264 @ 0x55cf9509ea00] frame I:1     Avg QP:20.15  size: 12842
[libx264 @ 0x55cf9509ea00] frame P:32    Avg QP:21.80  size:  3532
[libx264 @ 0x55cf9509ea00] frame B:32    Avg QP:25.64  size:  1101
[libx264 @ 0x55cf9509ea00] consecutive B-frames: 27.7%  9.2% 32.3% 30.8%
[libx264 @ 0x55cf9509ea00] mb I  I16..4: 27.8% 71.3%  0.9%
[libx264 @ 0x55cf9509ea00] mb P  I16..4:  2.8%  8.4%  0.1%  P16..4: 37.2%  7.8%  3.0%  0.0%  0.0%    skip:40.8%
[libx264 @ 0x55cf9509ea00] mb B  I16..4:  0.4%  1.4%  0.0%  B16..8: 34.7%  1.8%  0.2%  direct: 0.3%  skip:61.4%  L0:53.1% L1:45.1% BI: 1.7%
[libx264 @ 0x55cf9509ea00] 8x8 transform intra:74.4% inter:86.6%
[libx264 @ 0x55cf9509ea00] coded y,uvDC,uvAC intra: 43.1% 34.2% 1.0% inter: 6.6% 5.6% 0.0%
[libx264 @ 0x55cf9509ea00] i16 v,h,dc,p: 27% 34% 21% 18%
[libx264 @ 0x55cf9509ea00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 27% 37%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x55cf9509ea00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 24%  8%  4%  3%  6%  6%  7%  2%
[libx264 @ 0x55cf9509ea00] i8c dc,h,v,p: 57% 20% 21%  2%
[libx264 @ 0x55cf9509ea00] Weighted P-Frames: Y:3.1% UV:0.0%
[libx264 @ 0x55cf9509ea00] ref P L0: 67.2% 11.1% 15.6%  6.0%  0.1%
[libx264 @ 0x55cf9509ea00] ref B L0: 82.6% 15.0%  2.4%
[libx264 @ 0x55cf9509ea00] ref B L1: 97.0%  3.0%
[libx264 @ 0x55cf9509ea00] kb/s:594.75
[aac @ 0x55cf9509f4e0] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:53454 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53458 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53460 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53482 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53484 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53486 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53488 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53490 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:04<00:16,  4.02s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:06,  2.33s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:06<00:03,  1.78s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:07<00:01,  1.55s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.10s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.56s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.29s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.29s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5638a9469a00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5638a9469a00] using SAR=1/1
[libx264 @ 0x5638a9469a00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5638a9469a00] profile High, level 3.1
[libx264 @ 0x5638a9469a00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     178kB time=00:00:02.30 bitrate= 631.2kbits/s speed=5.17x    
video:158kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.431792%
[libx264 @ 0x5638a9469a00] frame I:1     Avg QP:20.14  size: 12853
[libx264 @ 0x5638a9469a00] frame P:32    Avg QP:21.78  size:  3527
[libx264 @ 0x5638a9469a00] frame B:32    Avg QP:25.39  size:  1102
[libx264 @ 0x5638a9469a00] consecutive B-frames: 27.7%  9.2% 32.3% 30.8%
[libx264 @ 0x5638a9469a00] mb I  I16..4: 27.8% 71.0%  1.2%
[libx264 @ 0x5638a9469a00] mb P  I16..4:  2.8%  8.3%  0.1%  P16..4: 37.3%  7.6%  3.1%  0.0%  0.0%    skip:40.8%
[libx264 @ 0x5638a9469a00] mb B  I16..4:  0.3%  1.4%  0.0%  B16..8: 34.3%  1.8%  0.1%  direct: 0.3%  skip:61.7%  L0:53.8% L1:44.4% BI: 1.8%
[libx264 @ 0x5638a9469a00] 8x8 transform intra:74.7% inter:86.2%
[libx264 @ 0x5638a9469a00] coded y,uvDC,uvAC intra: 43.1% 34.2% 1.0% inter: 6.6% 5.6% 0.0%
[libx264 @ 0x5638a9469a00] i16 v,h,dc,p: 28% 35% 20% 17%
[libx264 @ 0x5638a9469a00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x5638a9469a00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 39% 24%  8%  7%  4%  4%  6%  7%  2%
[libx264 @ 0x5638a9469a00] i8c dc,h,v,p: 57% 20% 21%  2%
[libx264 @ 0x5638a9469a00] Weighted P-Frames: Y:3.1% UV:0.0%
[libx264 @ 0x5638a9469a00] ref P L0: 67.4% 11.1% 15.4%  6.0%  0.1%
[libx264 @ 0x5638a9469a00] ref B L0: 82.8% 14.6%  2.6%
[libx264 @ 0x5638a9469a00] ref B L1: 97.2%  2.8%
[libx264 @ 0x5638a9469a00] kb/s:594.42
[aac @ 0x5638a946a4e0] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:53492 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53494 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53496 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53498 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53500 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53502 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53504 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53506 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53508 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53512 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53518 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53520 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53522 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:53524 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 241)
Length of mel chunks: 86
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:03<00:19,  3.99s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:05<00:09,  2.31s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:06<00:05,  1.78s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:07<00:03,  1.53s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:08<00:01,  1.41s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:10<00:00,  1.40s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:10<00:00,  1.67s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:12<00:00, 12.68s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:12<00:00, 12.68s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Metadata:
    encoder         : Lavf58.29.100
  Duration: 00:00:03.00, bitrate: 1411 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, stereo, s16, 1411 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.87, start: 0.000000, bitrate: 1165 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1157 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x555a61a53c60] -qscale is ignored, -crf is recommended.
[libx264 @ 0x555a61a53c60] using SAR=1/1
[libx264 @ 0x555a61a53c60] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x555a61a53c60] profile High, level 3.1
[libx264 @ 0x555a61a53c60] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 128 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   86 fps=0.0 q=-1.0 Lsize=     243kB time=00:00:03.01 bitrate= 660.7kbits/s speed= 5.2x    
video:205kB audio:34kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.804208%
[libx264 @ 0x555a61a53c60] frame I:1     Avg QP:20.33  size: 12727
[libx264 @ 0x555a61a53c60] frame P:39    Avg QP:21.62  size:  3765
[libx264 @ 0x555a61a53c60] frame B:46    Avg QP:25.40  size:  1084
[libx264 @ 0x555a61a53c60] consecutive B-frames: 20.9% 18.6% 14.0% 46.5%
[libx264 @ 0x555a61a53c60] mb I  I16..4: 28.1% 71.5%  0.4%
[libx264 @ 0x555a61a53c60] mb P  I16..4:  3.1%  9.9%  0.1%  P16..4: 36.6%  7.6%  3.2%  0.0%  0.0%    skip:39.5%
[libx264 @ 0x555a61a53c60] mb B  I16..4:  0.3%  1.1%  0.0%  B16..8: 34.2%  1.9%  0.2%  direct: 0.3%  skip:62.1%  L0:52.9% L1:45.3% BI: 1.9%
[libx264 @ 0x555a61a53c60] 8x8 transform intra:75.4% inter:86.4%
[libx264 @ 0x555a61a53c60] coded y,uvDC,uvAC intra: 44.2% 33.7% 1.0% inter: 6.4% 5.5% 0.0%
[libx264 @ 0x555a61a53c60] i16 v,h,dc,p: 28% 35% 20% 17%
[libx264 @ 0x555a61a53c60] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x555a61a53c60] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 38% 25%  8%  5%  5%  3%  7%  7%  2%
[libx264 @ 0x555a61a53c60] i8c dc,h,v,p: 58% 20% 21%  2%
[libx264 @ 0x555a61a53c60] Weighted P-Frames: Y:2.6% UV:0.0%
[libx264 @ 0x555a61a53c60] ref P L0: 67.7% 10.7% 15.7%  5.8%  0.1%
[libx264 @ 0x555a61a53c60] ref B L0: 82.6% 15.3%  2.1%
[libx264 @ 0x555a61a53c60] ref B L1: 94.9%  5.1%
[libx264 @ 0x555a61a53c60] kb/s:584.38
[aac @ 0x555a61a547e0] Qavg: 22299.607

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:53526 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:53528 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53530 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53532 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53534 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53536 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53558 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53560 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53562 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53566 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53568 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53572 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53574 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53576 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53618 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53620 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53622 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53624 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53626 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53628 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53630 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53632 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53634 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53664 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53666 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53668 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53670 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:53672 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53674 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53676 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53678 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53680 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53682 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53704 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53862 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:53864 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53866 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53888 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53890 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:53892 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53894 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:53896 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53898 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:53900 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53902 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53904 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:53906 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:53908 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:53910 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:53912 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:53914 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53996 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:53998 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:54020 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:54022 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:54024 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:54026 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:54028 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:54198 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:54200 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:54202 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:54204 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:54206 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:54208 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:54210 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56644 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56646 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56648 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56650 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56652 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56654 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:56656 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56658 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:56660 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:56662 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56664 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56666 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56668 - "GET /eg/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:56672 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56674 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56676 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56678 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:56680 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:56682 - "GET /eg/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:56684 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56686 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56688 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56690 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56692 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:56694 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:56696 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56698 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56700 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56702 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56704 - "GET /eg/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:56706 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56708 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56710 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56712 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56714 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56716 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56718 - "GET /emo/syncInput_eg?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:56720 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56722 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56724 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56726 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56728 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56730 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56732 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56736 - "GET /emo/erro HTTP/1.0" 404 Not Found
INFO:     192.168.1.27:56738 - "GET /emo/error HTTP/1.0" 404 Not Found
INFO:     192.168.1.27:56740 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56742 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56806 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56808 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56810 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56812 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:56814 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56816 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:56818 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:56820 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56822 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56824 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56828 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56830 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56832 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56834 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56836 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56838 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56840 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56864 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56866 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56868 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56870 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56872 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56874 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56876 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56878 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56880 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56882 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56884 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56886 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56890 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56892 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56894 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56896 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56898 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56900 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56902 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56904 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56906 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56908 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56910 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56912 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56914 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56916 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56918 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:56920 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56922 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56944 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56946 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56948 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56950 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56952 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56954 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56958 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56960 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56962 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56964 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56966 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56968 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56970 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56972 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56976 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56974 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56978 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56980 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56982 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:56984 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:56986 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:56988 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56990 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56992 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56994 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:56996 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:56998 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57000 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57002 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57004 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57006 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57008 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57010 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57012 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57014 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57016 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57018 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57022 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57020 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57024 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57026 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57028 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57030 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57032 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57034 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57036 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57038 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:57040 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57042 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:57044 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 562)
Length of mel chunks: 207
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/13 [00:00<?, ?it/s][A
  8%|â–Š         | 1/13 [00:04<00:56,  4.75s/it][A
 15%|â–ˆâ–Œ        | 2/13 [00:06<00:30,  2.78s/it][A
 23%|â–ˆâ–ˆâ–Ž       | 3/13 [00:07<00:20,  2.08s/it][A
 31%|â–ˆâ–ˆâ–ˆ       | 4/13 [00:08<00:15,  1.75s/it][A
 38%|â–ˆâ–ˆâ–ˆâ–Š      | 5/13 [00:10<00:13,  1.72s/it][A
 46%|â–ˆâ–ˆâ–ˆâ–ˆâ–Œ     | 6/13 [00:11<00:11,  1.68s/it][A
 54%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–    | 7/13 [00:13<00:09,  1.55s/it][A
 62%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–   | 8/13 [00:14<00:07,  1.43s/it][A
 69%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰   | 9/13 [00:15<00:05,  1.35s/it][A
 77%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹  | 10/13 [00:16<00:03,  1.30s/it][A
 85%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– | 11/13 [00:18<00:02,  1.30s/it][A
 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 12/13 [00:19<00:01,  1.31s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 13/13 [00:22<00:00,  1.80s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 13/13 [00:22<00:00,  1.71s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:27<00:00, 27.20s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:27<00:00, 27.20s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : stereo
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Metadata:
    encoder         : Lavf58.29.100
  Duration: 00:00:07.02, bitrate: 1536 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:06.90, start: 0.000000, bitrate: 1078 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1071 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x56008e7b3fa0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x56008e7b3fa0] using SAR=1/1
[libx264 @ 0x56008e7b3fa0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x56008e7b3fa0] profile High, level 3.1
[libx264 @ 0x56008e7b3fa0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/FEA.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, stereo, fltp, 128 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  121 fps=0.0 q=29.0 size=       0kB time=00:00:01.98 bitrate=   0.2kbits/s speed=3.95x    frame=  207 fps=199 q=-1.0 Lsize=     573kB time=00:00:07.01 bitrate= 668.4kbits/s speed=6.73x    
video:448kB audio:116kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.528790%
[libx264 @ 0x56008e7b3fa0] frame I:1     Avg QP:20.76  size: 12470
[libx264 @ 0x56008e7b3fa0] frame P:85    Avg QP:21.15  size:  3851
[libx264 @ 0x56008e7b3fa0] frame B:121   Avg QP:25.45  size:   981
[libx264 @ 0x56008e7b3fa0] consecutive B-frames: 15.0% 17.4% 11.6% 56.0%
[libx264 @ 0x56008e7b3fa0] mb I  I16..4: 28.2% 70.6%  1.2%
[libx264 @ 0x56008e7b3fa0] mb P  I16..4:  3.1%  7.9%  0.1%  P16..4: 38.3%  8.6%  3.6%  0.0%  0.0%    skip:38.5%
[libx264 @ 0x56008e7b3fa0] mb B  I16..4:  0.3%  1.5%  0.0%  B16..8: 32.0%  1.5%  0.1%  direct: 0.3%  skip:64.2%  L0:50.7% L1:47.5% BI: 1.8%
[libx264 @ 0x56008e7b3fa0] 8x8 transform intra:73.1% inter:85.2%
[libx264 @ 0x56008e7b3fa0] coded y,uvDC,uvAC intra: 39.2% 30.0% 0.8% inter: 6.2% 5.4% 0.0%
[libx264 @ 0x56008e7b3fa0] i16 v,h,dc,p: 23% 34% 19% 24%
[libx264 @ 0x56008e7b3fa0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 39%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x56008e7b3fa0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 42% 29% 10%  2%  4%  3%  5%  2%  2%
[libx264 @ 0x56008e7b3fa0] i8c dc,h,v,p: 61% 18% 19%  1%
[libx264 @ 0x56008e7b3fa0] Weighted P-Frames: Y:1.2% UV:0.0%
[libx264 @ 0x56008e7b3fa0] ref P L0: 66.4%  9.7% 17.0%  6.9%  0.1%
[libx264 @ 0x56008e7b3fa0] ref B L0: 82.9% 13.7%  3.3%
[libx264 @ 0x56008e7b3fa0] ref B L1: 95.5%  4.5%
[libx264 @ 0x56008e7b3fa0] kb/s:531.64
[aac @ 0x56008e7b4f60] Qavg: 703.019

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
FEA
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion FEA
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'FEA']
fear <class 'str'>
INFO:     192.168.1.27:57046 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:57064 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57066 - "GET /emo/syncInput?emotion=fear HTTP/1.0" 200 OK
INFO:     192.168.1.27:57068 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57070 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57072 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57074 - "GET /emo/syncInput?emotion=fear HTTP/1.0" 200 OK
INFO:     192.168.1.27:57076 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57078 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57084 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57086 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57088 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57092 - "GET /Emotional-Talking-Faces/results/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57094 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57096 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57098 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57100 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57102 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57104 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57106 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57108 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57110 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:57132 - "GET /emo/syncInput?emotion=anger HTTP/1.0" 200 OK
INFO:     192.168.1.27:57134 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57136 - "GET /Emotional-Talking-Faces/results/ANG.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57138 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57140 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57142 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57144 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57146 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57148 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57150 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57152 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57154 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57156 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57158 - "GET /emo/syncInput?emotion=anger HTTP/1.0" 200 OK
INFO:     192.168.1.27:57160 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57162 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57164 - "GET /emo/syncInput?emotion=anger HTTP/1.0" 200 OK
INFO:     192.168.1.27:57166 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57168 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57170 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57172 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57174 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57176 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57178 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57180 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57182 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57184 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:57186 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57188 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57190 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57192 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57194 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57212 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57214 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57216 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57218 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57220 - "GET /emo/syncInput?emotion=anger HTTP/1.0" 200 OK
INFO:     192.168.1.27:57222 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57224 - "GET /Emotional-Talking-Faces/results/ANG.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57228 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57230 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57232 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57234 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57236 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57238 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57240 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57242 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57244 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57246 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57248 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57250 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57252 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57254 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57256 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57264 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57266 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57288 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57290 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57292 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57294 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57296 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57298 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57300 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57302 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57304 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57306 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57308 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57310 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57312 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57314 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57316 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57318 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57320 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57322 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57324 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57326 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57328 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57330 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57332 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57334 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57336 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57338 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57340 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57342 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57348 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57350 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57352 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57356 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57354 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57358 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57360 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57362 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57364 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57366 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57368 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:57370 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57372 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57374 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57376 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:57378 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57380 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57382 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57384 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57404 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57406 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57408 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57410 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57412 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57414 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57416 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57418 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57420 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57422 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57424 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57426 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57428 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57430 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57432 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57434 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57436 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57438 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57440 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57442 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57444 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57446 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57448 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57450 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57452 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57454 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57456 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57458 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57460 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57462 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57464 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57466 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57468 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57470 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57472 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57474 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57476 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57478 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57480 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57482 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57484 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57486 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57490 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57492 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57494 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57496 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57498 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57500 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57502 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57504 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57506 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57508 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57510 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57512 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57514 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57516 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57518 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57520 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57540 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57542 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57544 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57546 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57548 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57550 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57566 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57568 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57570 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57572 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57574 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57576 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57582 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:57584 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57586 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57588 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57590 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57592 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:57618 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57620 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57622 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57624 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57626 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57628 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57642 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57644 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57646 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57648 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:57650 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57652 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57654 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57656 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:57658 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57676 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57680 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57682 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57684 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57720 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57722 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57724 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57726 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57728 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57730 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57732 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57734 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57736 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57738 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57744 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57746 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57750 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57752 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57754 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57756 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57758 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57760 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57762 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57764 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57766 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57768 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57770 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57772 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57774 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57776 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57778 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57780 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57782 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57784 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57786 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57788 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57790 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57804 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57806 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57832 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57834 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57836 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57838 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57840 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57842 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57848 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57850 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57852 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57854 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57856 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57858 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57862 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57864 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57866 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57868 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57870 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57872 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57878 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57880 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57882 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57884 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57900 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57902 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57904 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57906 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57908 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57910 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57912 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57914 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57916 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57918 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57920 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57922 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:57924 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57926 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57928 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57952 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57954 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57956 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57958 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57960 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57962 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57964 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57966 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57968 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57970 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57972 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57974 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57976 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57978 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57980 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57982 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57984 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57986 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57988 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:57990 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:57992 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57994 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:57996 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:57998 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58000 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58004 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58002 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58006 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58010 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58012 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58014 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58016 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58018 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58020 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58022 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58024 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58026 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58028 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58030 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58032 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58034 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58036 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58038 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58040 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58042 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58044 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58046 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58048 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58050 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58052 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58054 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58056 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58058 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58060 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58062 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58064 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58066 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58068 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58070 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58072 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:58074 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58078 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:58080 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58084 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58288 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58290 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58292 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58294 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58296 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58298 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58300 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58330 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58356 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58358 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58360 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58362 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58364 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58366 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58368 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58370 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58372 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58374 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58376 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58380 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58382 - "GET /images/icon.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58384 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58386 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58388 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58390 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58426 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58428 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58430 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58432 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58434 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58436 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58442 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58444 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58446 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58448 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58450 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58452 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58454 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58456 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58458 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58480 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58484 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58486 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58510 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58512 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58514 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58516 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:58518 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58522 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58524 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58526 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58528 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58530 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58532 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58534 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58536 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58540 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58542 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58544 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58546 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58548 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58550 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58552 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58554 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58556 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58558 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58560 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58562 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58564 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58566 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58568 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58570 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58572 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58574 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58576 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58578 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58580 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58582 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58584 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:58586 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58588 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58590 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58594 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58596 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58598 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58600 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58602 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58606 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58604 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58608 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58610 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58612 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58614 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58632 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58634 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58636 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:58638 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58642 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58644 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58646 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58648 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58650 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58652 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58656 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58658 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58660 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58662 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58664 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58686 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58750 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58752 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58754 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58756 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58758 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58762 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58764 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58766 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:58768 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58770 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58776 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58778 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58780 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58782 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58784 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58786 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:58788 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58790 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58792 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58794 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58796 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58798 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58824 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58828 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58830 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58832 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58834 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58836 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58838 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58840 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58842 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58844 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58846 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58848 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58850 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58852 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58854 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58856 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58858 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58860 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58862 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58864 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58866 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58868 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58870 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58872 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58874 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58878 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58880 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58882 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58884 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58886 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58888 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58890 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58892 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58894 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:58898 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58900 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58902 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58904 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58906 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58908 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58910 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58912 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58914 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58916 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58918 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58920 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58922 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58924 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58926 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58928 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58930 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58932 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58934 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58936 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58938 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58940 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58942 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58944 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58946 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58948 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58950 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58952 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:58954 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:58956 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58958 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58960 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:58962 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58964 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58966 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58968 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58970 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58972 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58974 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58976 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58978 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58980 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58982 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58984 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58986 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:58988 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:58990 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:58992 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58994 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58996 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:58998 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59020 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59022 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59024 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59026 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59028 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59030 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59032 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59034 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59036 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59038 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59040 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59042 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59044 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59046 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:59048 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59050 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59052 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59054 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59056 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:59058 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:59060 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59062 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59064 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59066 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59068 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59070 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59072 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:59074 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59086 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59114 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59116 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59118 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59120 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59122 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59124 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59146 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59148 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59150 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59152 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59154 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59156 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59158 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59160 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59162 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59188 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59194 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59196 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59198 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59200 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59202 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59204 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59206 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59208 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59210 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59212 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:59214 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:59216 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59218 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59220 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59222 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59224 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59226 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59228 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59230 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59232 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59234 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:59236 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:59238 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59240 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59264 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59266 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59268 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59270 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59272 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59274 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59276 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59278 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59280 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59282 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:59284 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:59286 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59288 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59290 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59292 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59294 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59296 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59298 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59300 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59322 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59326 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59324 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59328 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59330 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59332 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59336 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59338 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59340 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59344 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59346 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59348 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59350 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59352 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59354 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59356 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59358 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59360 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59362 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59364 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59366 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59368 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59370 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59372 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59374 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59376 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59378 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59380 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59382 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59384 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59386 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59388 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59390 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59392 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59394 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59396 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59398 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59400 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59402 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59404 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59406 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59408 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59410 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59412 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59414 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59416 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59418 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59420 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59426 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59428 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59430 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59432 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59434 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59436 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59438 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59440 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59442 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59444 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59446 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59448 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59450 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59452 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59454 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59456 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59458 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59460 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59462 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59464 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59466 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59468 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59470 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59472 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59474 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59476 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59478 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59480 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59482 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59484 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59486 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59488 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59490 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:59492 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:59494 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59496 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59498 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59524 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:59526 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59528 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59530 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59532 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59534 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59536 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59537 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59540 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59542 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59544 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:59546 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59548 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59550 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59554 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59552 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59556 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:59558 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59560 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59750 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59752 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59754 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59756 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59758 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59760 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:59762 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:59764 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:59766 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:59768 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:59770 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:59772 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:59774 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:59778 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60164 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60166 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60168 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60170 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60172 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60176 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60174 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60178 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:60182 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:60184 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60186 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:60188 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:60190 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:60192 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:60194 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60204 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60206 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60208 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60210 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60212 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60214 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60216 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60218 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60220 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60222 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60224 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60226 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:60228 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60230 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60232 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60234 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60236 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60238 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60240 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60242 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60244 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60246 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:60270 - "GET /emo/errorPage HTTP/1.0" 200 OK
INFO:     192.168.1.27:60272 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60274 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:60276 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60278 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:60280 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:60282 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:60284 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60286 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60288 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:60290 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60292 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60294 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60296 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:60964 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60966 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60968 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60970 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60972 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60974 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60976 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60978 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60980 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:60982 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:60984 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:60986 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:60988 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:60990 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:60992 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:32778 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:32780 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:32782 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35050 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35052 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35054 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35056 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35058 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35060 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35062 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35064 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35066 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35068 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35070 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35072 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35074 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:35076 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35078 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35080 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35082 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35084 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35086 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35088 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:35090 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35092 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35094 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35096 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35098 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35100 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35102 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35104 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35106 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35108 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35110 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:35112 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35114 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35116 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35118 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35120 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35122 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35146 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35266 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35268 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35270 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35272 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35276 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35278 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35280 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35282 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:35284 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35286 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:35288 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35290 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:35292 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35294 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35296 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35298 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35300 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35302 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35304 - "GET /eg/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35306 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35308 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35310 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35312 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35314 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35316 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35318 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35320 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35322 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35324 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35326 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35348 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35350 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35352 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35354 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35356 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35358 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35360 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35362 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:35366 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:35364 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35368 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35372 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:35370 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:35374 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35376 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35378 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35380 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:35382 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:35384 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:35386 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35388 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:35570 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:35572 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:36836 - "OPTIONS /emo/static/style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:36838 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:36840 - "OPTIONS /emo/static/eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:36842 - "OPTIONS /emo/static/images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:36844 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:36846 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:36848 - "OPTIONS /emo/static/eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:36850 - "OPTIONS /emo/static/eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:36852 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:36854 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:36856 - "OPTIONS /emo/static/images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:36858 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:37754 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37756 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:37758 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:37762 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:37760 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:37764 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:37766 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:37768 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:37770 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:37772 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:37774 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37776 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37778 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37804 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:37806 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:37808 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:37810 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37812 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:37814 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:37816 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:37818 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:37820 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37842 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37844 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37846 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37848 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37850 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37852 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37854 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37860 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37862 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37864 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37866 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:37868 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37870 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37872 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37874 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37898 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37900 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37902 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37904 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37906 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37908 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37910 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37912 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37914 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37916 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37918 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37920 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37922 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37924 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37926 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37948 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:37950 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:37952 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37954 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37956 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37958 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37960 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37962 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37964 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37966 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37984 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37986 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:37988 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38010 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38012 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:38014 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38016 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38018 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38020 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38022 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38024 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38026 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38028 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38030 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38032 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38034 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38036 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38038 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38040 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38042 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38044 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:38046 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:38048 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38052 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38054 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38056 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38058 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38060 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38062 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38064 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38066 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38068 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:38070 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:38072 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38074 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38076 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38078 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38080 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38082 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38084 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38088 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38090 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38092 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38094 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38096 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38098 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38100 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38102 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38104 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38106 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38108 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38112 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38110 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38114 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38116 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:38142 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38144 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38146 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38148 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38150 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38152 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38154 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38156 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38158 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:38162 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38164 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38166 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38168 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38170 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38172 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38174 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38176 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38178 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38180 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38182 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38184 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38186 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38190 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38188 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38192 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38194 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38196 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38198 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:38220 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38222 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38224 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38226 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38228 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38232 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38234 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38236 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38238 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:38240 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38242 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38244 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38246 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38248 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38250 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38278 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38284 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38286 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38288 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38290 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38292 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38294 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38296 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38450 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38452 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38454 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38456 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38468 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38470 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38472 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38474 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38550 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38552 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38574 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38576 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38578 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38580 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38582 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38584 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38612 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38616 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38618 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38620 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38622 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38626 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38628 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38630 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38632 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38634 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38636 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:38638 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:38640 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38644 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38646 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38650 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:38652 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38654 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38656 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38658 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38660 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38662 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38664 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38666 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38668 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:38670 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:38672 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:38674 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38700 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38702 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38704 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38706 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38708 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38710 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38712 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38714 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38716 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38718 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38720 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38746 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38748 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38750 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38752 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38754 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38756 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38758 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38760 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38762 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38764 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38766 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38768 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38770 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38772 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38774 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:38776 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:38778 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:38780 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:38782 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39372 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39374 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:39376 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:39378 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:39380 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:39382 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:39384 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:39386 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39388 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:39390 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39392 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39394 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39396 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39398 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39400 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39402 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39404 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:39406 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:39408 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:39410 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:39412 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:39414 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:39416 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:39418 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:39420 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40390 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40392 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40394 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40396 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40398 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40400 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40402 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40404 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:40460 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40462 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40464 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40466 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40468 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40470 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40472 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40474 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40476 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40478 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40480 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40482 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40484 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40486 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40488 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40618 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40620 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40622 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40624 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40626 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40628 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40630 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40632 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40634 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:40636 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40638 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40640 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40642 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40644 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40646 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40648 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40652 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40654 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40656 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40658 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40660 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40662 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40664 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40666 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40668 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:40686 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:40688 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40690 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:40692 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40696 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40702 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40704 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40706 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40708 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40710 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40712 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40714 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40716 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40718 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40720 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40722 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:40724 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40726 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40728 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40730 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40732 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40736 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:40738 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40740 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40744 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40746 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40772 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40774 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40776 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40778 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:40780 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40782 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:40784 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:07<00:31,  7.76s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:10<00:13,  4.65s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:11<00:06,  3.14s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:12<00:02,  2.37s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:13<00:00,  1.64s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:13<00:00,  2.62s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:16<00:00, 16.60s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:16<00:00, 16.60s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55b2e1159a00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55b2e1159a00] using SAR=1/1
[libx264 @ 0x55b2e1159a00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55b2e1159a00] profile High, level 3.1
[libx264 @ 0x55b2e1159a00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     178kB time=00:00:02.30 bitrate= 633.0kbits/s speed=4.77x    
video:158kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.427546%
[libx264 @ 0x55b2e1159a00] frame I:1     Avg QP:20.15  size: 12839
[libx264 @ 0x55b2e1159a00] frame P:32    Avg QP:21.77  size:  3540
[libx264 @ 0x55b2e1159a00] frame B:32    Avg QP:25.33  size:  1106
[libx264 @ 0x55b2e1159a00] consecutive B-frames: 27.7%  9.2% 32.3% 30.8%
[libx264 @ 0x55b2e1159a00] mb I  I16..4: 27.9% 71.0%  1.1%
[libx264 @ 0x55b2e1159a00] mb P  I16..4:  2.9%  8.3%  0.1%  P16..4: 37.5%  7.5%  3.1%  0.0%  0.0%    skip:40.7%
[libx264 @ 0x55b2e1159a00] mb B  I16..4:  0.3%  1.4%  0.0%  B16..8: 34.6%  1.7%  0.1%  direct: 0.3%  skip:61.5%  L0:53.2% L1:45.0% BI: 1.8%
[libx264 @ 0x55b2e1159a00] 8x8 transform intra:74.2% inter:86.6%
[libx264 @ 0x55b2e1159a00] coded y,uvDC,uvAC intra: 42.8% 34.4% 0.9% inter: 6.6% 5.7% 0.0%
[libx264 @ 0x55b2e1159a00] i16 v,h,dc,p: 28% 36% 21% 15%
[libx264 @ 0x55b2e1159a00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  3%  1%  2%  1%  2%  1%
[libx264 @ 0x55b2e1159a00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 39% 29%  6%  4%  4%  3%  6%  5%  3%
[libx264 @ 0x55b2e1159a00] i8c dc,h,v,p: 57% 20% 21%  2%
[libx264 @ 0x55b2e1159a00] Weighted P-Frames: Y:3.1% UV:0.0%
[libx264 @ 0x55b2e1159a00] ref P L0: 67.1% 11.3% 15.3%  6.1%  0.1%
[libx264 @ 0x55b2e1159a00] ref B L0: 82.5% 14.9%  2.6%
[libx264 @ 0x55b2e1159a00] ref B L1: 97.4%  2.6%
[libx264 @ 0x55b2e1159a00] kb/s:596.39
[aac @ 0x55b2e115a4e0] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:40786 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:40790 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:40792 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40794 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40800 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40808 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40810 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40812 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40814 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40816 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40820 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40822 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40830 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40832 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40834 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40836 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40838 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40840 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40842 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:40844 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:40846 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:40870 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40872 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40874 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40876 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:40878 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40880 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40882 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40884 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:40886 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40888 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40890 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40892 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40894 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:40896 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40898 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40900 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40902 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40904 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40906 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40912 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40914 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40916 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40918 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40920 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40922 - "GET /emo/syncInput_eg?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:40926 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:40924 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:40928 - "GET /eg/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40930 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40936 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:40938 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:40940 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:40958 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:40960 - "GET /emo/syncInput_eg?emotion=fear HTTP/1.0" 200 OK
INFO:     192.168.1.27:40962 - "GET /eg/FEA.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:40964 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41012 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41014 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41016 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41018 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41020 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41022 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3229
  Duration: 00:00:03.28, start: 0.034531, bitrate: 63 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 62 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3229
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
size=     202kB time=00:00:03.22 bitrate= 512.4kbits/s speed= 183x    
video:0kB audio:202kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.069660%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 68
Extracting raw audio...
(80, 259)
Length of mel chunks: 93
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:02<00:10,  2.61s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:03<00:04,  1.39s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:03<00:02,  1.00s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:04<00:00,  1.22it/s][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.48it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.08it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.23s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.23s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.23, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:03.10, start: 0.000000, bitrate: 551 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 536 kb/s, 29.97 fps, 29.97 tbr, 29.97 tbn, 2997 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55e9eb0edbc0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55e9eb0edbc0] using SAR=1/1
[libx264 @ 0x55e9eb0edbc0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55e9eb0edbc0] profile High, level 3.0
[libx264 @ 0x55e9eb0edbc0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 29.97 fps, 30k tbn, 29.97 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   93 fps=0.0 q=-1.0 Lsize=     134kB time=00:00:03.23 bitrate= 339.1kbits/s speed=9.85x    
video:103kB audio:27kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.830465%
[libx264 @ 0x55e9eb0edbc0] frame I:1     Avg QP:19.39  size:  8869
[libx264 @ 0x55e9eb0edbc0] frame P:44    Avg QP:20.91  size:  1712
[libx264 @ 0x55e9eb0edbc0] frame B:48    Avg QP:25.48  size:   423
[libx264 @ 0x55e9eb0edbc0] consecutive B-frames: 25.8% 12.9%  9.7% 51.6%
[libx264 @ 0x55e9eb0edbc0] mb I  I16..4: 14.8% 82.3%  2.9%
[libx264 @ 0x55e9eb0edbc0] mb P  I16..4:  1.5%  7.3%  0.0%  P16..4: 27.7%  7.4%  4.5%  0.0%  0.0%    skip:51.7%
[libx264 @ 0x55e9eb0edbc0] mb B  I16..4:  0.2%  1.0%  0.0%  B16..8: 29.4%  1.7%  0.2%  direct: 0.7%  skip:66.8%  L0:56.3% L1:41.4% BI: 2.2%
[libx264 @ 0x55e9eb0edbc0] 8x8 transform intra:82.7% inter:85.7%
[libx264 @ 0x55e9eb0edbc0] coded y,uvDC,uvAC intra: 51.6% 53.8% 5.4% inter: 6.7% 8.9% 0.3%
[libx264 @ 0x55e9eb0edbc0] i16 v,h,dc,p: 25% 46% 18% 11%
[libx264 @ 0x55e9eb0edbc0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 21% 22% 47%  2%  2%  2%  1%  1%  1%
[libx264 @ 0x55e9eb0edbc0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 46% 16% 10%  3%  6%  9%  6%  2%  2%
[libx264 @ 0x55e9eb0edbc0] i8c dc,h,v,p: 44% 27% 27%  3%
[libx264 @ 0x55e9eb0edbc0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55e9eb0edbc0] ref P L0: 67.8%  9.9% 15.5%  6.8%
[libx264 @ 0x55e9eb0edbc0] ref B L0: 81.9% 14.6%  3.5%
[libx264 @ 0x55e9eb0edbc0] ref B L1: 95.7%  4.3%
[libx264 @ 0x55e9eb0edbc0] kb/s:269.42
[aac @ 0x55e9eb0cd620] Qavg: 1471.066

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:41024 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:41026 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:41028 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:41030 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41032 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41034 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41036 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41038 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41040 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3229
  Duration: 00:00:03.28, start: 0.034531, bitrate: 63 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 62 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3229
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
size=     202kB time=00:00:03.22 bitrate= 512.4kbits/s speed= 496x    
video:0kB audio:202kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.069660%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 259)
Length of mel chunks: 93
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:04<00:21,  4.36s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:05<00:10,  2.56s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:06<00:05,  1.91s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:07<00:03,  1.61s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:09<00:01,  1.46s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.82s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.94s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.62s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.62s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.23, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:03.10, start: 0.000000, bitrate: 1180 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1172 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55b65335fd00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55b65335fd00] using SAR=1/1
[libx264 @ 0x55b65335fd00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55b65335fd00] profile High, level 3.1
[libx264 @ 0x55b65335fd00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   93 fps=0.0 q=-1.0 Lsize=     258kB time=00:00:03.23 bitrate= 654.3kbits/s speed=5.34x    
video:227kB audio:27kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.448107%
[libx264 @ 0x55b65335fd00] frame I:1     Avg QP:20.48  size: 12578
[libx264 @ 0x55b65335fd00] frame P:43    Avg QP:21.57  size:  3719
[libx264 @ 0x55b65335fd00] frame B:49    Avg QP:25.38  size:  1211
[libx264 @ 0x55b65335fd00] consecutive B-frames: 26.9%  4.3% 12.9% 55.9%
[libx264 @ 0x55b65335fd00] mb I  I16..4: 29.3% 69.3%  1.4%
[libx264 @ 0x55b65335fd00] mb P  I16..4:  3.0%  7.6%  0.1%  P16..4: 38.6%  8.0%  3.4%  0.0%  0.0%    skip:39.3%
[libx264 @ 0x55b65335fd00] mb B  I16..4:  0.5%  2.1%  0.0%  B16..8: 34.5%  2.0%  0.2%  direct: 0.3%  skip:60.3%  L0:52.8% L1:45.2% BI: 2.0%
[libx264 @ 0x55b65335fd00] 8x8 transform intra:72.7% inter:86.3%
[libx264 @ 0x55b65335fd00] coded y,uvDC,uvAC intra: 40.6% 32.9% 0.9% inter: 6.9% 6.0% 0.0%
[libx264 @ 0x55b65335fd00] i16 v,h,dc,p: 26% 33% 20% 21%
[libx264 @ 0x55b65335fd00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 26% 39%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x55b65335fd00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 37% 25%  9%  4%  5%  5%  9%  5%  2%
[libx264 @ 0x55b65335fd00] i8c dc,h,v,p: 59% 19% 20%  2%
[libx264 @ 0x55b65335fd00] Weighted P-Frames: Y:2.3% UV:0.0%
[libx264 @ 0x55b65335fd00] ref P L0: 66.1% 10.4% 16.8%  6.5%  0.2%
[libx264 @ 0x55b65335fd00] ref B L0: 83.0% 13.2%  3.9%
[libx264 @ 0x55b65335fd00] ref B L1: 95.1%  4.9%
[libx264 @ 0x55b65335fd00] kb/s:598.25
[aac @ 0x55b653360e20] Qavg: 1471.066

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:41042 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:41046 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:41048 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41050 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41054 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41056 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41058 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:41060 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41062 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41064 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41066 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41068 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:41070 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41072 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41074 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41100 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41102 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41104 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:41106 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41108 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41110 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41112 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:41116 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:41120 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41122 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41124 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:41126 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3069
  Duration: 00:00:03.13, start: 0.034531, bitrate: 61 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3069
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
size=     192kB time=00:00:03.06 bitrate= 512.4kbits/s speed= 523x    
video:0kB audio:192kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.073291%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 246)
Length of mel chunks: 88
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:04<00:20,  4.18s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:05<00:11,  2.75s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:07<00:06,  2.06s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:08<00:03,  1.75s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:09<00:01,  1.59s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.68s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.93s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.60s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.60s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.07, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.93, start: 0.000000, bitrate: 1216 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1208 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x556035a3b980] -qscale is ignored, -crf is recommended.
[libx264 @ 0x556035a3b980] using SAR=1/1
[libx264 @ 0x556035a3b980] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x556035a3b980] profile High, level 3.1
[libx264 @ 0x556035a3b980] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   88 fps=0.0 q=-1.0 Lsize=     248kB time=00:00:03.07 bitrate= 660.0kbits/s speed=5.29x    
video:218kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.465596%
[libx264 @ 0x556035a3b980] frame I:1     Avg QP:20.22  size: 12798
[libx264 @ 0x556035a3b980] frame P:41    Avg QP:21.66  size:  3786
[libx264 @ 0x556035a3b980] frame B:46    Avg QP:25.42  size:  1191
[libx264 @ 0x556035a3b980] consecutive B-frames: 23.9% 13.6% 17.0% 45.5%
[libx264 @ 0x556035a3b980] mb I  I16..4: 28.9% 69.8%  1.4%
[libx264 @ 0x556035a3b980] mb P  I16..4:  3.0%  8.5%  0.1%  P16..4: 38.8%  8.1%  3.2%  0.0%  0.0%    skip:38.3%
[libx264 @ 0x556035a3b980] mb B  I16..4:  0.5%  2.0%  0.0%  B16..8: 33.2%  2.2%  0.2%  direct: 0.4%  skip:61.6%  L0:53.8% L1:44.3% BI: 2.0%
[libx264 @ 0x556035a3b980] 8x8 transform intra:74.1% inter:86.5%
[libx264 @ 0x556035a3b980] coded y,uvDC,uvAC intra: 42.4% 33.3% 1.1% inter: 6.8% 5.9% 0.0%
[libx264 @ 0x556035a3b980] i16 v,h,dc,p: 27% 35% 20% 18%
[libx264 @ 0x556035a3b980] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 26% 38%  2%  1%  2%  1%  2%  2%
[libx264 @ 0x556035a3b980] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 31% 27% 11%  4%  6%  4%  9%  4%  3%
[libx264 @ 0x556035a3b980] i8c dc,h,v,p: 59% 19% 20%  2%
[libx264 @ 0x556035a3b980] Weighted P-Frames: Y:4.9% UV:0.0%
[libx264 @ 0x556035a3b980] ref P L0: 66.6% 10.0% 16.2%  6.9%  0.4%
[libx264 @ 0x556035a3b980] ref B L0: 82.9% 13.9%  3.2%
[libx264 @ 0x556035a3b980] ref B L1: 95.3%  4.7%
[libx264 @ 0x556035a3b980] kb/s:607.70
[aac @ 0x556035a3c6e0] Qavg: 1024.602

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:41128 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:41130 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:41132 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:41134 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:41136 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:41138 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:43624 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:43626 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43628 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43630 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43632 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43634 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43636 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:43638 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:43640 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:43642 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43644 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43646 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:43648 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43650 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43652 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43654 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43656 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:43658 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:43660 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:43662 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:43664 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:43666 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43668 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:43670 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:44730 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44732 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44760 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44762 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 279x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 182)
Length of mel chunks: 54
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:02<00:07,  2.57s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:04,  2.15s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.70s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.26s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.54s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.37s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.37s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.16, start: 0.000000, bitrate: 490 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 473 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x563690a566e0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x563690a566e0] using SAR=1/1
[libx264 @ 0x563690a566e0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x563690a566e0] profile High, level 2.1
[libx264 @ 0x563690a566e0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   54 fps=0.0 q=-1.0 Lsize=      97kB time=00:00:02.27 bitrate= 349.2kbits/s speed=7.94x    
video:75kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.138208%
[libx264 @ 0x563690a566e0] frame I:1     Avg QP:19.07  size:  9232
[libx264 @ 0x563690a566e0] frame P:38    Avg QP:20.25  size:  1570
[libx264 @ 0x563690a566e0] frame B:15    Avg QP:23.36  size:   462
[libx264 @ 0x563690a566e0] consecutive B-frames: 57.4% 14.8%  5.6% 22.2%
[libx264 @ 0x563690a566e0] mb I  I16..4: 28.1% 68.6%  3.3%
[libx264 @ 0x563690a566e0] mb P  I16..4:  1.6%  5.1%  0.0%  P16..4: 23.6%  7.7%  5.9%  0.0%  0.0%    skip:56.1%
[libx264 @ 0x563690a566e0] mb B  I16..4:  0.6%  2.6%  0.0%  B16..8: 31.5%  2.0%  0.1%  direct: 0.7%  skip:62.5%  L0:49.6% L1:48.0% BI: 2.4%
[libx264 @ 0x563690a566e0] 8x8 transform intra:74.8% inter:82.8%
[libx264 @ 0x563690a566e0] coded y,uvDC,uvAC intra: 38.5% 46.0% 5.6% inter: 8.9% 10.5% 0.2%
[libx264 @ 0x563690a566e0] i16 v,h,dc,p: 36% 33% 25%  6%
[libx264 @ 0x563690a566e0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 51%  2%  1%  1%  1%  1%  1%
[libx264 @ 0x563690a566e0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 24% 10%  2%  6%  6%  5%  1%  4%
[libx264 @ 0x563690a566e0] i8c dc,h,v,p: 49% 22% 27%  2%
[libx264 @ 0x563690a566e0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x563690a566e0] ref P L0: 72.2% 12.1% 11.6%  4.1%
[libx264 @ 0x563690a566e0] ref B L0: 84.2% 13.4%  2.4%
[libx264 @ 0x563690a566e0] ref B L1: 97.6%  2.4%
[libx264 @ 0x563690a566e0] kb/s:280.89
[aac @ 0x563690a6f280] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:44764 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:44766 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:44768 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:44770 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44772 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:44774 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44776 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44778 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44780 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 338x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 182)
Length of mel chunks: 54
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:02<00:07,  2.55s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:04,  2.06s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:04<00:01,  1.40s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.07s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.36s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.64s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.64s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.16, start: 0.000000, bitrate: 496 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 478 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5567168076e0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5567168076e0] using SAR=1/1
[libx264 @ 0x5567168076e0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5567168076e0] profile High, level 2.1
[libx264 @ 0x5567168076e0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   54 fps=0.0 q=-1.0 Lsize=      98kB time=00:00:02.27 bitrate= 352.9kbits/s speed=6.89x    
video:76kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.036338%
[libx264 @ 0x5567168076e0] frame I:1     Avg QP:19.08  size:  9189
[libx264 @ 0x5567168076e0] frame P:41    Avg QP:20.35  size:  1487
[libx264 @ 0x5567168076e0] frame B:12    Avg QP:22.77  size:   567
[libx264 @ 0x5567168076e0] consecutive B-frames: 68.5%  3.7%  5.6% 22.2%
[libx264 @ 0x5567168076e0] mb I  I16..4: 27.5% 68.7%  3.8%
[libx264 @ 0x5567168076e0] mb P  I16..4:  1.5%  4.5%  0.0%  P16..4: 23.1%  7.5%  5.4%  0.0%  0.0%    skip:58.0%
[libx264 @ 0x5567168076e0] mb B  I16..4:  0.9%  3.8%  0.0%  B16..8: 31.9%  2.7%  0.2%  direct: 1.0%  skip:59.5%  L0:47.4% L1:49.3% BI: 3.3%
[libx264 @ 0x5567168076e0] 8x8 transform intra:74.2% inter:81.9%
[libx264 @ 0x5567168076e0] coded y,uvDC,uvAC intra: 38.0% 46.2% 4.8% inter: 9.3% 10.8% 0.2%
[libx264 @ 0x5567168076e0] i16 v,h,dc,p: 33% 38% 22%  7%
[libx264 @ 0x5567168076e0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 50%  2%  2%  1%  1%  1%  2%
[libx264 @ 0x5567168076e0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 52% 25% 10%  2%  2%  3%  3%  2%  1%
[libx264 @ 0x5567168076e0] i8c dc,h,v,p: 50% 22% 26%  2%
[libx264 @ 0x5567168076e0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5567168076e0] ref P L0: 71.9% 12.2% 11.2%  4.7%
[libx264 @ 0x5567168076e0] ref B L0: 87.0% 10.3%  2.8%
[libx264 @ 0x5567168076e0] ref B L1: 94.5%  5.5%
[libx264 @ 0x5567168076e0] kb/s:285.05
[aac @ 0x556716820260] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:44782 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:44786 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:44788 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44790 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:44792 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:44794 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44796 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:44798 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:44868 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:44870 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:44872 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:44908 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44910 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44912 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44914 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44918 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44920 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3069
  Duration: 00:00:03.13, start: 0.034531, bitrate: 61 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3069
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
size=     192kB time=00:00:03.06 bitrate= 512.4kbits/s speed= 515x    
video:0kB audio:192kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.073291%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 246)
Length of mel chunks: 74
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:02<00:10,  2.63s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:03<00:04,  1.39s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:03<00:01,  1.00it/s][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:04<00:00,  1.24it/s][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.29it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.02it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.33s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.33s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.07, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.96, start: 0.000000, bitrate: 507 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 493 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x564452a4eba0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x564452a4eba0] using SAR=1/1
[libx264 @ 0x564452a4eba0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x564452a4eba0] profile High, level 2.1
[libx264 @ 0x564452a4eba0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   74 fps=0.0 q=-1.0 Lsize=     131kB time=00:00:03.07 bitrate= 348.8kbits/s speed=9.69x    
video:102kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.847885%
[libx264 @ 0x564452a4eba0] frame I:1     Avg QP:18.86  size:  9100
[libx264 @ 0x564452a4eba0] frame P:39    Avg QP:20.17  size:  1973
[libx264 @ 0x564452a4eba0] frame B:34    Avg QP:23.66  size:   507
[libx264 @ 0x564452a4eba0] consecutive B-frames: 32.4% 18.9%  0.0% 48.6%
[libx264 @ 0x564452a4eba0] mb I  I16..4: 29.1% 66.7%  4.2%
[libx264 @ 0x564452a4eba0] mb P  I16..4:  2.1%  6.6%  0.1%  P16..4: 26.6% 10.2%  7.0%  0.0%  0.0%    skip:47.4%
[libx264 @ 0x564452a4eba0] mb B  I16..4:  0.5%  2.1%  0.0%  B16..8: 31.9%  2.5%  0.2%  direct: 0.9%  skip:62.0%  L0:47.9% L1:49.3% BI: 2.7%
[libx264 @ 0x564452a4eba0] 8x8 transform intra:74.5% inter:83.6%
[libx264 @ 0x564452a4eba0] coded y,uvDC,uvAC intra: 36.9% 44.3% 4.4% inter: 9.1% 10.5% 0.3%
[libx264 @ 0x564452a4eba0] i16 v,h,dc,p: 33% 37% 23%  6%
[libx264 @ 0x564452a4eba0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 51%  2%  1%  1%  1%  1%  1%
[libx264 @ 0x564452a4eba0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 38% 30% 11%  2%  6%  4%  5%  3%  2%
[libx264 @ 0x564452a4eba0] i8c dc,h,v,p: 50% 22% 26%  2%
[libx264 @ 0x564452a4eba0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x564452a4eba0] ref P L0: 66.8% 13.1% 13.2%  6.9%
[libx264 @ 0x564452a4eba0] ref B L0: 83.8% 12.3%  3.9%
[libx264 @ 0x564452a4eba0] ref B L1: 95.6%  4.4%
[libx264 @ 0x564452a4eba0] kb/s:279.10
[aac @ 0x564452a67460] Qavg: 1024.602

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:44924 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:44928 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:44930 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44932 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:44934 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44936 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44938 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:44940 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3229
  Duration: 00:00:03.28, start: 0.034531, bitrate: 63 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 62 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3229
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.800000, track peak - 0.000021, album gain - unknown, album peak - unknown, 
size=     202kB time=00:00:03.22 bitrate= 512.4kbits/s speed= 517x    
video:0kB audio:202kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.069660%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 259)
Length of mel chunks: 78
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:02<00:10,  2.58s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:03<00:04,  1.37s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:03<00:01,  1.01it/s][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:04<00:00,  1.23it/s][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.26it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.01it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.45s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.45s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.23, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:03.12, start: 0.000000, bitrate: 530 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 517 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55ffd42ad3a0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55ffd42ad3a0] using SAR=1/1
[libx264 @ 0x55ffd42ad3a0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55ffd42ad3a0] profile High, level 2.1
[libx264 @ 0x55ffd42ad3a0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   78 fps=0.0 q=-1.0 Lsize=     140kB time=00:00:03.23 bitrate= 354.6kbits/s speed=9.74x    
video:109kB audio:27kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.760664%
[libx264 @ 0x55ffd42ad3a0] frame I:1     Avg QP:18.91  size:  9157
[libx264 @ 0x55ffd42ad3a0] frame P:35    Avg QP:20.32  size:  2197
[libx264 @ 0x55ffd42ad3a0] frame B:42    Avg QP:24.12  size:   587
[libx264 @ 0x55ffd42ad3a0] consecutive B-frames: 23.1% 10.3% 15.4% 51.3%
[libx264 @ 0x55ffd42ad3a0] mb I  I16..4: 28.6% 67.8%  3.6%
[libx264 @ 0x55ffd42ad3a0] mb P  I16..4:  2.3%  7.4%  0.1%  P16..4: 27.0% 10.6%  7.0%  0.0%  0.0%    skip:45.7%
[libx264 @ 0x55ffd42ad3a0] mb B  I16..4:  0.5%  2.0%  0.0%  B16..8: 33.0%  3.1%  0.3%  direct: 1.0%  skip:60.1%  L0:50.8% L1:45.6% BI: 3.6%
[libx264 @ 0x55ffd42ad3a0] 8x8 transform intra:75.0% inter:83.7%
[libx264 @ 0x55ffd42ad3a0] coded y,uvDC,uvAC intra: 38.2% 45.7% 4.7% inter: 9.3% 10.3% 0.3%
[libx264 @ 0x55ffd42ad3a0] i16 v,h,dc,p: 34% 38% 22%  6%
[libx264 @ 0x55ffd42ad3a0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 22% 49%  2%  1%  1%  1%  1%  2%
[libx264 @ 0x55ffd42ad3a0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 47% 29%  9%  2%  3%  4%  3%  2%  2%
[libx264 @ 0x55ffd42ad3a0] i8c dc,h,v,p: 50% 23% 25%  2%
[libx264 @ 0x55ffd42ad3a0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55ffd42ad3a0] ref P L0: 64.3% 12.9% 15.5%  7.3%
[libx264 @ 0x55ffd42ad3a0] ref B L0: 82.3% 13.5%  4.3%
[libx264 @ 0x55ffd42ad3a0] ref B L1: 94.9%  5.1%
[libx264 @ 0x55ffd42ad3a0] kb/s:283.84
[aac @ 0x55ffd42c5ca0] Qavg: 1471.066

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:44942 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:44948 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:44950 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:44952 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:44954 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:44956 - "POST /emo/file_uploader HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3069
  Duration: 00:00:03.13, start: 0.034531, bitrate: 61 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3069
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
size=     192kB time=00:00:03.06 bitrate= 512.4kbits/s speed= 239x    
video:0kB audio:192kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.073291%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 138
Extracting raw audio...
(80, 246)
Length of mel chunks: 2889
  0%|          | 0/12 [00:00<?, ?it/s]
  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|â–ˆ         | 1/9 [00:04<00:33,  4.22s/it][A
 22%|â–ˆâ–ˆâ–       | 2/9 [00:05<00:15,  2.23s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 3/9 [00:05<00:09,  1.59s/it][A
 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 4/9 [00:06<00:06,  1.28s/it][A
 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 5/9 [00:07<00:04,  1.11s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 6/9 [00:08<00:03,  1.03s/it][A
 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 7/9 [00:09<00:01,  1.04it/s][A
 89%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰ | 8/9 [00:10<00:00,  1.09it/s][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:11<00:00,  1.14s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:11<00:00,  1.29s/it]
  8%|â–Š         | 1/12 [00:17<03:09, 17.20s/it] 17%|â–ˆâ–‹        | 2/12 [00:21<01:33,  9.38s/it] 25%|â–ˆâ–ˆâ–Œ       | 3/12 [00:22<00:52,  5.79s/it] 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 4/12 [00:26<00:40,  5.08s/it] 42%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 5/12 [00:28<00:26,  3.80s/it] 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 6/12 [00:31<00:21,  3.57s/it] 58%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š    | 7/12 [00:32<00:14,  2.89s/it] 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 8/12 [00:35<00:10,  2.72s/it] 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 9/12 [00:36<00:06,  2.27s/it] 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 10/12 [00:38<00:04,  2.28s/it] 92%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–| 11/12 [00:39<00:01,  1.97s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 12/12 [00:41<00:00,  1.71s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 12/12 [00:41<00:00,  3.42s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.07, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.89, start: 0.000000, bitrate: 31556 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 31241 kb/s, 1k fps, 1k tbr, 1k tbn, 1k tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5626ddb405a0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5626ddb405a0] using SAR=1/1
[libx264 @ 0x5626ddb405a0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5626ddb405a0] profile High, level 5.2
[libx264 @ 0x5626ddb405a0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 1k fps, 16k tbn, 1k tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  176 fps=0.0 q=33.0 size=       0kB time=00:00:00.19 bitrate=   2.0kbits/s speed=0.383x    frame=  369 fps=369 q=33.0 size=     256kB time=00:00:00.38 bitrate=5462.3kbits/s speed=0.384x    frame=  591 fps=393 q=33.0 size=     256kB time=00:00:00.57 bitrate=3641.6kbits/s speed=0.383x    frame=  787 fps=393 q=33.0 size=     512kB time=00:00:00.76 bitrate=5461.8kbits/s speed=0.383x    frame=  995 fps=397 q=33.0 size=     768kB time=00:00:01.02 bitrate=6144.4kbits/s speed=0.409x    frame= 1210 fps=403 q=33.0 size=     768kB time=00:00:01.21 bitrate=5174.2kbits/s speed=0.405x    frame= 1435 fps=409 q=33.0 size=    1024kB time=00:00:01.40 bitrate=5958.1kbits/s speed=0.402x    frame= 1646 fps=411 q=33.0 size=    1280kB time=00:00:01.66 bitrate=6301.8kbits/s speed=0.415x    frame= 1860 fps=412 q=33.0 size=    1536kB time=00:00:01.85 bitrate=6779.8kbits/s speed=0.412x    frame= 2077 fps=414 q=33.0 size=    1536kB time=00:00:02.04 bitrate=6144.2kbits/s speed=0.409x    frame= 2287 fps=415 q=33.0 size=    1792kB time=00:00:02.30 bitrate=6371.7kbits/s speed=0.418x    frame= 2508 fps=417 q=33.0 size=    2048kB time=00:00:02.49 bitrate=6721.8kbits/s speed=0.415x    frame= 2724 fps=418 q=33.0 size=    2048kB time=00:00:02.75 bitrate=6096.5kbits/s speed=0.422x    frame= 2889 fps=414 q=-1.0 Lsize=    2515kB time=00:00:03.07 bitrate=6706.5kbits/s speed=0.441x    
video:2456kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.344403%
[libx264 @ 0x5626ddb405a0] frame I:12    Avg QP:22.60  size: 12943
[libx264 @ 0x5626ddb405a0] frame P:1500  Avg QP:26.48  size:  1354
[libx264 @ 0x5626ddb405a0] frame B:1377  Avg QP:32.15  size:   238
[libx264 @ 0x5626ddb405a0] consecutive B-frames: 20.4% 45.9%  7.2% 26.6%
[libx264 @ 0x5626ddb405a0] mb I  I16..4: 16.8% 74.1%  9.1%
[libx264 @ 0x5626ddb405a0] mb P  I16..4:  1.3%  2.7%  0.1%  P16..4: 26.5%  3.3%  1.2%  0.0%  0.0%    skip:64.8%
[libx264 @ 0x5626ddb405a0] mb B  I16..4:  0.1%  0.3%  0.0%  B16..8: 16.8%  0.2%  0.0%  direct: 0.0%  skip:82.5%  L0:38.7% L1:61.0% BI: 0.4%
[libx264 @ 0x5626ddb405a0] 8x8 transform intra:67.9% inter:86.8%
[libx264 @ 0x5626ddb405a0] coded y,uvDC,uvAC intra: 32.4% 36.9% 2.3% inter: 3.0% 3.7% 0.0%
[libx264 @ 0x5626ddb405a0] i16 v,h,dc,p: 17% 36% 17% 30%
[libx264 @ 0x5626ddb405a0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 21% 25% 41%  2%  2%  3%  3%  2%  2%
[libx264 @ 0x5626ddb405a0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 35% 22% 12%  2%  6%  7%  9%  3%  3%
[libx264 @ 0x5626ddb405a0] i8c dc,h,v,p: 54% 25% 18%  3%
[libx264 @ 0x5626ddb405a0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5626ddb405a0] ref P L0: 71.3% 11.4% 13.0%  4.3%
[libx264 @ 0x5626ddb405a0] ref B L0: 83.7% 14.8%  1.5%
[libx264 @ 0x5626ddb405a0] ref B L1: 98.7%  1.3%
[libx264 @ 0x5626ddb405a0] kb/s:6962.01
[aac @ 0x5626ddb41a20] Qavg: 1024.602

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:44958 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:44966 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:44968 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45016 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:45018 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45020 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:45048 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:45050 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45052 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:45054 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 3069
  Duration: 00:00:03.13, start: 0.034531, bitrate: 61 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 3069
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -10.400000, track peak - 0.000022, album gain - unknown, album peak - unknown, 
size=     192kB time=00:00:03.06 bitrate= 512.4kbits/s speed= 197x    
video:0kB audio:192kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.073291%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 71
Extracting raw audio...
(80, 246)
Length of mel chunks: 74
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:02<00:10,  2.64s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:03<00:04,  1.40s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:03<00:02,  1.00s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:04<00:00,  1.23it/s][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.32it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:04<00:00,  1.02it/s]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.40s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.40s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:03.07, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.96, start: 0.000000, bitrate: 413 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 398 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55afcef57f20] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55afcef57f20] using SAR=1/1
[libx264 @ 0x55afcef57f20] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55afcef57f20] profile High, level 2.1
[libx264 @ 0x55afcef57f20] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   74 fps=0.0 q=-1.0 Lsize=     119kB time=00:00:03.07 bitrate= 317.0kbits/s speed=9.29x    
video:90kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.142581%
[libx264 @ 0x55afcef57f20] frame I:1     Avg QP:18.89  size:  7289
[libx264 @ 0x55afcef57f20] frame P:37    Avg QP:19.74  size:  1758
[libx264 @ 0x55afcef57f20] frame B:36    Avg QP:22.13  size:   520
[libx264 @ 0x55afcef57f20] consecutive B-frames: 25.7% 27.0%  4.1% 43.2%
[libx264 @ 0x55afcef57f20] mb I  I16..4: 26.2% 72.8%  1.0%
[libx264 @ 0x55afcef57f20] mb P  I16..4:  2.9%  8.4%  0.1%  P16..4: 31.0%  8.2%  4.9%  0.0%  0.0%    skip:44.6%
[libx264 @ 0x55afcef57f20] mb B  I16..4:  0.6%  2.4%  0.0%  B16..8: 31.6%  1.9%  0.1%  direct: 1.4%  skip:62.0%  L0:52.8% L1:45.3% BI: 1.9%
[libx264 @ 0x55afcef57f20] 8x8 transform intra:74.8% inter:89.9%
[libx264 @ 0x55afcef57f20] coded y,uvDC,uvAC intra: 33.0% 39.8% 4.1% inter: 7.6% 12.0% 0.2%
[libx264 @ 0x55afcef57f20] i16 v,h,dc,p: 41% 35% 19%  4%
[libx264 @ 0x55afcef57f20] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 19% 54%  1%  1%  1%  1%  1%  1%
[libx264 @ 0x55afcef57f20] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 36%  9%  2%  4%  4%  4%  1%  1%
[libx264 @ 0x55afcef57f20] i8c dc,h,v,p: 48% 24% 26%  2%
[libx264 @ 0x55afcef57f20] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55afcef57f20] ref P L0: 65.5%  9.3% 17.0%  8.3%
[libx264 @ 0x55afcef57f20] ref B L0: 80.2% 15.9%  3.9%
[libx264 @ 0x55afcef57f20] ref B L1: 96.3%  3.7%
[libx264 @ 0x55afcef57f20] kb/s:246.09
[aac @ 0x55afcef593a0] Qavg: 1024.602

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:45056 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:45200 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:45202 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45238 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45504 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:45526 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:45528 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:45530 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:45532 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 213x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.61s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.39s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.07s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.28s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.92s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.92s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 574 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5619921bea80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5619921bea80] using SAR=1/1
[libx264 @ 0x5619921bea80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5619921bea80] profile High, level 2.1
[libx264 @ 0x5619921bea80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 351.9kbits/s speed=8.07x    
video:57kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.698916%
[libx264 @ 0x5619921bea80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x5619921bea80] frame P:20    Avg QP:20.45  size:  1890
[libx264 @ 0x5619921bea80] frame B:18    Avg QP:24.53  size:   566
[libx264 @ 0x5619921bea80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x5619921bea80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x5619921bea80] mb P  I16..4:  1.9%  5.6%  0.0%  P16..4: 27.4%  9.5%  5.9%  0.0%  0.0%    skip:49.7%
[libx264 @ 0x5619921bea80] mb B  I16..4:  0.4%  2.2%  0.0%  B16..8: 32.9%  3.2%  0.3%  direct: 1.0%  skip:60.0%  L0:49.5% L1:46.8% BI: 3.6%
[libx264 @ 0x5619921bea80] 8x8 transform intra:73.4% inter:83.8%
[libx264 @ 0x5619921bea80] coded y,uvDC,uvAC intra: 39.8% 46.8% 6.7% inter: 9.2% 9.9% 0.2%
[libx264 @ 0x5619921bea80] i16 v,h,dc,p: 36% 38% 23%  3%
[libx264 @ 0x5619921bea80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 21% 50%  2%  1%  1%  1%  2%  2%
[libx264 @ 0x5619921bea80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 47% 26%  7%  2%  4%  5%  5%  4%  1%
[libx264 @ 0x5619921bea80] i8c dc,h,v,p: 49% 23% 25%  2%
[libx264 @ 0x5619921bea80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5619921bea80] ref P L0: 68.1% 12.7% 13.2%  6.0%
[libx264 @ 0x5619921bea80] ref B L0: 83.4% 12.6%  4.1%
[libx264 @ 0x5619921bea80] ref B L1: 95.2%  4.8%
[libx264 @ 0x5619921bea80] kb/s:293.36
[aac @ 0x5619921e0d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:45534 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:45536 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:45538 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:46526 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:46528 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:46530 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:46532 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:46534 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:46536 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:46538 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:46540 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:46602 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:46604 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:46606 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:46608 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:46610 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 257x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.67s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.41s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.07s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.29s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.07s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.07s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55d498c41a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55d498c41a80] using SAR=1/1
[libx264 @ 0x55d498c41a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55d498c41a80] profile High, level 2.1
[libx264 @ 0x55d498c41a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 350.3kbits/s speed=7.79x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.716636%
[libx264 @ 0x55d498c41a80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x55d498c41a80] frame P:20    Avg QP:20.45  size:  1882
[libx264 @ 0x55d498c41a80] frame B:18    Avg QP:24.43  size:   555
[libx264 @ 0x55d498c41a80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x55d498c41a80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x55d498c41a80] mb P  I16..4:  1.8%  5.6%  0.1%  P16..4: 28.0%  9.4%  5.6%  0.0%  0.0%    skip:49.5%
[libx264 @ 0x55d498c41a80] mb B  I16..4:  0.4%  2.1%  0.0%  B16..8: 32.0%  3.1%  0.3%  direct: 1.1%  skip:61.0%  L0:50.2% L1:46.7% BI: 3.2%
[libx264 @ 0x55d498c41a80] 8x8 transform intra:73.7% inter:83.6%
[libx264 @ 0x55d498c41a80] coded y,uvDC,uvAC intra: 39.8% 45.8% 6.7% inter: 9.2% 10.2% 0.3%
[libx264 @ 0x55d498c41a80] i16 v,h,dc,p: 37% 38% 21%  4%
[libx264 @ 0x55d498c41a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 20% 50%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x55d498c41a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 48% 26%  7%  2%  4%  4%  5%  4%  1%
[libx264 @ 0x55d498c41a80] i8c dc,h,v,p: 50% 22% 26%  2%
[libx264 @ 0x55d498c41a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55d498c41a80] ref P L0: 66.9% 12.9% 13.7%  6.5%
[libx264 @ 0x55d498c41a80] ref B L0: 83.2% 13.2%  3.6%
[libx264 @ 0x55d498c41a80] ref B L1: 95.5%  4.5%
[libx264 @ 0x55d498c41a80] kb/s:291.61
[aac @ 0x55d498c63d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:46634 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:46642 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:46644 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:46646 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:46658 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:46670 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47322 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47324 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47326 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47328 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47330 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 383x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:04<00:08,  4.47s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:05<00:02,  2.52s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  1.68s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  2.10s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.26s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.26s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x557052600a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x557052600a80] using SAR=1/1
[libx264 @ 0x557052600a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x557052600a80] profile High, level 2.1
[libx264 @ 0x557052600a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 351.5kbits/s speed= 8.2x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.703601%
[libx264 @ 0x557052600a80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x557052600a80] frame P:20    Avg QP:20.49  size:  1891
[libx264 @ 0x557052600a80] frame B:18    Avg QP:24.65  size:   559
[libx264 @ 0x557052600a80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x557052600a80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x557052600a80] mb P  I16..4:  1.8%  5.6%  0.0%  P16..4: 27.8%  9.8%  5.5%  0.0%  0.0%    skip:49.4%
[libx264 @ 0x557052600a80] mb B  I16..4:  0.4%  2.0%  0.0%  B16..8: 32.5%  3.3%  0.3%  direct: 1.0%  skip:60.4%  L0:49.2% L1:47.5% BI: 3.3%
[libx264 @ 0x557052600a80] 8x8 transform intra:73.6% inter:84.3%
[libx264 @ 0x557052600a80] coded y,uvDC,uvAC intra: 40.0% 44.9% 7.0% inter: 9.2% 10.1% 0.3%
[libx264 @ 0x557052600a80] i16 v,h,dc,p: 36% 38% 21%  5%
[libx264 @ 0x557052600a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 20% 50%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x557052600a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 47% 26%  7%  2%  4%  5%  5%  4%  1%
[libx264 @ 0x557052600a80] i8c dc,h,v,p: 49% 23% 26%  2%
[libx264 @ 0x557052600a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x557052600a80] ref P L0: 67.4% 12.8% 13.6%  6.2%
[libx264 @ 0x557052600a80] ref B L0: 83.6% 12.7%  3.7%
[libx264 @ 0x557052600a80] ref B L1: 95.7%  4.3%
[libx264 @ 0x557052600a80] kb/s:292.90
[aac @ 0x557052622d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:47332 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47334 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47336 - "GET /syncInput.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47338 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47492 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47538 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47540 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47542 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47544 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 325x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:04<00:09,  4.57s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:06<00:02,  2.86s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  1.85s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  2.30s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.75s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.75s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55a12fe2fa80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55a12fe2fa80] using SAR=1/1
[libx264 @ 0x55a12fe2fa80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55a12fe2fa80] profile High, level 2.1
[libx264 @ 0x55a12fe2fa80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 350.6kbits/s speed=7.49x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.713369%
[libx264 @ 0x55a12fe2fa80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x55a12fe2fa80] frame P:20    Avg QP:20.39  size:  1882
[libx264 @ 0x55a12fe2fa80] frame B:18    Avg QP:24.46  size:   559
[libx264 @ 0x55a12fe2fa80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x55a12fe2fa80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x55a12fe2fa80] mb P  I16..4:  1.9%  5.6%  0.1%  P16..4: 28.0%  9.4%  5.4%  0.0%  0.0%    skip:49.7%
[libx264 @ 0x55a12fe2fa80] mb B  I16..4:  0.4%  2.2%  0.0%  B16..8: 32.2%  3.1%  0.3%  direct: 1.0%  skip:60.8%  L0:50.3% L1:46.4% BI: 3.3%
[libx264 @ 0x55a12fe2fa80] 8x8 transform intra:73.2% inter:83.9%
[libx264 @ 0x55a12fe2fa80] coded y,uvDC,uvAC intra: 39.8% 46.2% 6.9% inter: 9.2% 10.1% 0.3%
[libx264 @ 0x55a12fe2fa80] i16 v,h,dc,p: 37% 38% 21%  4%
[libx264 @ 0x55a12fe2fa80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 20% 51%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x55a12fe2fa80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 48% 26%  7%  2%  4%  4%  5%  4%  1%
[libx264 @ 0x55a12fe2fa80] i8c dc,h,v,p: 50% 22% 26%  2%
[libx264 @ 0x55a12fe2fa80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55a12fe2fa80] ref P L0: 67.2% 12.7% 13.7%  6.4%
[libx264 @ 0x55a12fe2fa80] ref B L0: 83.3% 13.1%  3.6%
[libx264 @ 0x55a12fe2fa80] ref B L1: 95.6%  4.4%
[libx264 @ 0x55a12fe2fa80] kb/s:291.93
[aac @ 0x55a12fe51d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:47546 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47548 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47550 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47552 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47554 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47578 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47580 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47582 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47584 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47586 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 271x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:03<00:07,  3.53s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:05<00:02,  2.36s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:05<00:00,  1.58s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:05<00:00,  1.91s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.87s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.87s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 574 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5557b942ea80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5557b942ea80] using SAR=1/1
[libx264 @ 0x5557b942ea80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5557b942ea80] profile High, level 2.1
[libx264 @ 0x5557b942ea80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      72kB time=00:00:01.69 bitrate= 348.4kbits/s speed=7.67x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.772021%
[libx264 @ 0x5557b942ea80] frame I:1     Avg QP:18.60  size:  9265
[libx264 @ 0x5557b942ea80] frame P:17    Avg QP:20.41  size:  2086
[libx264 @ 0x5557b942ea80] frame B:21    Avg QP:24.23  size:   558
[libx264 @ 0x5557b942ea80] consecutive B-frames: 25.6%  5.1%  7.7% 61.5%
[libx264 @ 0x5557b942ea80] mb I  I16..4: 29.4% 67.2%  3.3%
[libx264 @ 0x5557b942ea80] mb P  I16..4:  1.9%  6.1%  0.0%  P16..4: 29.4% 10.9%  6.4%  0.0%  0.0%    skip:45.3%
[libx264 @ 0x5557b942ea80] mb B  I16..4:  0.3%  2.0%  0.0%  B16..8: 33.8%  3.3%  0.3%  direct: 1.0%  skip:59.3%  L0:49.8% L1:47.7% BI: 2.5%
[libx264 @ 0x5557b942ea80] 8x8 transform intra:74.9% inter:84.4%
[libx264 @ 0x5557b942ea80] coded y,uvDC,uvAC intra: 40.6% 46.6% 6.8% inter: 9.0% 9.8% 0.2%
[libx264 @ 0x5557b942ea80] i16 v,h,dc,p: 37% 36% 23%  4%
[libx264 @ 0x5557b942ea80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 22% 48%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x5557b942ea80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 48% 21%  6%  2%  6%  6%  6%  3%  1%
[libx264 @ 0x5557b942ea80] i8c dc,h,v,p: 48% 24% 26%  3%
[libx264 @ 0x5557b942ea80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5557b942ea80] ref P L0: 66.5% 12.6% 14.5%  6.4%
[libx264 @ 0x5557b942ea80] ref B L0: 81.9% 14.1%  4.1%
[libx264 @ 0x5557b942ea80] ref B L1: 95.1%  4.9%
[libx264 @ 0x5557b942ea80] kb/s:289.48
[aac @ 0x5557b9450d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:47590 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47592 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47594 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47620 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:47622 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47624 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47626 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:47628 - "GET /emo/syncInput_eg?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47630 - "GET /syncInput_eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47632 - "GET /eg/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47634 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:47636 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:47640 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47642 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47644 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:47666 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:47676 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47678 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47680 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:47682 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     270kB time=00:00:02.88 bitrate= 768.2kbits/s speed= 272x    
video:0kB audio:270kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.028212%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 231)
Length of mel chunks: 69
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:02<00:11,  2.78s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:05,  1.94s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:03,  1.72s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.29s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.01s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.34s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.27s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.27s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.88, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.76, start: 0.000000, bitrate: 503 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 489 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5634523cdbc0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5634523cdbc0] using SAR=1/1
[libx264 @ 0x5634523cdbc0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5634523cdbc0] profile High, level 2.1
[libx264 @ 0x5634523cdbc0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   69 fps=0.0 q=-1.0 Lsize=     123kB time=00:00:02.88 bitrate= 348.5kbits/s speed=9.77x    
video:94kB audio:25kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.787154%
[libx264 @ 0x5634523cdbc0] frame I:1     Avg QP:18.80  size:  9362
[libx264 @ 0x5634523cdbc0] frame P:36    Avg QP:20.22  size:  1975
[libx264 @ 0x5634523cdbc0] frame B:32    Avg QP:24.08  size:   487
[libx264 @ 0x5634523cdbc0] consecutive B-frames: 29.0% 20.3% 21.7% 29.0%
[libx264 @ 0x5634523cdbc0] mb I  I16..4: 29.6% 67.1%  3.3%
[libx264 @ 0x5634523cdbc0] mb P  I16..4:  2.1%  6.7%  0.0%  P16..4: 26.6%  9.6%  6.8%  0.0%  0.0%    skip:48.1%
[libx264 @ 0x5634523cdbc0] mb B  I16..4:  0.4%  1.7%  0.0%  B16..8: 31.9%  2.5%  0.2%  direct: 0.7%  skip:62.7%  L0:49.3% L1:48.4% BI: 2.3%
[libx264 @ 0x5634523cdbc0] 8x8 transform intra:74.5% inter:83.5%
[libx264 @ 0x5634523cdbc0] coded y,uvDC,uvAC intra: 37.7% 46.8% 4.9% inter: 8.7% 10.1% 0.2%
[libx264 @ 0x5634523cdbc0] i16 v,h,dc,p: 33% 38% 24%  5%
[libx264 @ 0x5634523cdbc0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 50%  2%  1%  1%  1%  1%  2%
[libx264 @ 0x5634523cdbc0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 44% 27%  8%  1%  7%  4%  4%  2%  2%
[libx264 @ 0x5634523cdbc0] i8c dc,h,v,p: 50% 23% 25%  2%
[libx264 @ 0x5634523cdbc0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5634523cdbc0] ref P L0: 67.3% 13.2% 13.0%  6.6%
[libx264 @ 0x5634523cdbc0] ref B L0: 77.8% 17.6%  4.6%
[libx264 @ 0x5634523cdbc0] ref B L1: 96.1%  3.9%
[libx264 @ 0x5634523cdbc0] kb/s:278.38
[aac @ 0x5634523e6960] Qavg: 123.030

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:47684 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47686 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47688 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47690 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:47692 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47694 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47696 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:47698 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:47716 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47718 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 382x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 35
Extracting raw audio...
(80, 182)
Length of mel chunks: 2089
  0%|          | 0/9 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:05<00:11,  5.51s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:07<00:03,  3.42s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:08<00:00,  2.13s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:08<00:00,  2.69s/it]
 11%|â–ˆ         | 1/9 [00:15<02:06, 15.77s/it] 22%|â–ˆâ–ˆâ–       | 2/9 [00:19<00:59,  8.50s/it] 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 3/9 [00:22<00:36,  6.01s/it] 44%|â–ˆâ–ˆâ–ˆâ–ˆâ–     | 4/9 [00:25<00:23,  4.73s/it] 56%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ    | 5/9 [00:27<00:16,  4.02s/it] 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 6/9 [00:30<00:10,  3.47s/it] 78%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Š  | 7/9 [00:32<00:06,  3.16s/it] 89%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‰ | 8/9 [00:35<00:03,  3.07s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:36<00:00,  2.36s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 9/9 [00:36<00:00,  4.04s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.09, start: 0.000000, bitrate: 17877 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 17510 kb/s, 1k fps, 1k tbr, 1k tbn, 1k tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55e787730660] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55e787730660] using SAR=1/1
[libx264 @ 0x55e787730660] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55e787730660] profile High, level 5.2
[libx264 @ 0x55e787730660] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 1k fps, 16k tbn, 1k tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=  198 fps=0.0 q=33.0 size=       0kB time=00:00:00.18 bitrate=   2.1kbits/s speed=0.37x    frame=  441 fps=439 q=33.0 size=     256kB time=00:00:00.41 bitrate=5018.5kbits/s speed=0.416x    frame=  675 fps=448 q=33.0 size=     256kB time=00:00:00.65 bitrate=3226.2kbits/s speed=0.431x    frame=  883 fps=439 q=33.0 size=     512kB time=00:00:00.88 bitrate=4754.0kbits/s speed=0.438x    frame= 1107 fps=440 q=33.0 size=     768kB time=00:00:01.11 bitrate=5645.1kbits/s speed=0.443x    frame= 1321 fps=438 q=33.0 size=     768kB time=00:00:01.30 bitrate=4838.7kbits/s speed=0.431x    frame= 1541 fps=438 q=33.0 size=    1024kB time=00:00:01.53 bitrate=5474.0kbits/s speed=0.435x    frame= 1766 fps=439 q=33.0 size=    1280kB time=00:00:01.76 bitrate=5942.1kbits/s speed=0.439x    frame= 1996 fps=441 q=33.0 size=    1536kB time=00:00:01.99 bitrate=6301.4kbits/s speed=0.442x    frame= 2089 fps=432 q=-1.0 Lsize=    1699kB time=00:00:02.27 bitrate=6116.6kbits/s speed=0.471x    
video:1657kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.364940%
[libx264 @ 0x55e787730660] frame I:10    Avg QP:18.92  size:  4836
[libx264 @ 0x55e787730660] frame P:1263  Avg QP:23.95  size:  1082
[libx264 @ 0x55e787730660] frame B:816   Avg QP:22.55  size:   345
[libx264 @ 0x55e787730660] consecutive B-frames: 33.7% 37.1% 17.2% 12.1%
[libx264 @ 0x55e787730660] mb I  I16..4: 32.6% 64.2%  3.2%
[libx264 @ 0x55e787730660] mb P  I16..4:  2.6%  7.6%  0.0%  P16..4: 21.3%  1.8%  0.5%  0.0%  0.0%    skip:66.1%
[libx264 @ 0x55e787730660] mb B  I16..4:  1.0%  0.7%  0.0%  B16..8: 17.8%  0.4%  0.0%  direct: 1.2%  skip:79.0%  L0:48.4% L1:51.4% BI: 0.3%
[libx264 @ 0x55e787730660] 8x8 transform intra:70.2% inter:96.3%
[libx264 @ 0x55e787730660] coded y,uvDC,uvAC intra: 13.1% 18.6% 0.2% inter: 1.9% 4.3% 0.0%
[libx264 @ 0x55e787730660] i16 v,h,dc,p: 33% 32% 27%  8%
[libx264 @ 0x55e787730660] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 22% 46%  1%  1%  1%  1%  0%  0%
[libx264 @ 0x55e787730660] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 49% 18% 13%  1%  4%  6%  5%  2%  1%
[libx264 @ 0x55e787730660] i8c dc,h,v,p: 60% 17% 21%  1%
[libx264 @ 0x55e787730660] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55e787730660] ref P L0: 73.5%  8.8% 13.0%  4.7%
[libx264 @ 0x55e787730660] ref B L0: 79.2% 18.8%  1.9%
[libx264 @ 0x55e787730660] ref B L1: 99.0%  1.0%
[libx264 @ 0x55e787730660] kb/s:6494.80
[aac @ 0x55e7876edb80] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:47722 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47744 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:47746 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47748 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47842 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47844 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:47846 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:47848 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47850 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47852 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47854 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:47856 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:47858 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:47860 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:47862 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:47864 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:47866 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:47868 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47870 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:47872 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:47942 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47944 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47946 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47948 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 298x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.65s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.72s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.24s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.46s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.48s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.48s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 543 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 522 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55bc3eaa3a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55bc3eaa3a80] using SAR=1/1
[libx264 @ 0x55bc3eaa3a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55bc3eaa3a80] profile High, level 2.1
[libx264 @ 0x55bc3eaa3a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      71kB time=00:00:01.69 bitrate= 342.3kbits/s speed=7.88x    
video:55kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.817930%
[libx264 @ 0x55bc3eaa3a80] frame I:1     Avg QP:18.86  size:  9058
[libx264 @ 0x55bc3eaa3a80] frame P:21    Avg QP:20.59  size:  1786
[libx264 @ 0x55bc3eaa3a80] frame B:17    Avg QP:24.21  size:   507
[libx264 @ 0x55bc3eaa3a80] consecutive B-frames: 33.3% 25.6%  0.0% 41.0%
[libx264 @ 0x55bc3eaa3a80] mb I  I16..4: 29.6% 66.1%  4.3%
[libx264 @ 0x55bc3eaa3a80] mb P  I16..4:  1.7%  5.5%  0.0%  P16..4: 26.2%  9.3%  5.9%  0.0%  0.0%    skip:51.4%
[libx264 @ 0x55bc3eaa3a80] mb B  I16..4:  0.4%  2.1%  0.0%  B16..8: 32.6%  2.6%  0.1%  direct: 0.9%  skip:61.3%  L0:44.6% L1:52.8% BI: 2.6%
[libx264 @ 0x55bc3eaa3a80] 8x8 transform intra:73.6% inter:84.3%
[libx264 @ 0x55bc3eaa3a80] coded y,uvDC,uvAC intra: 40.4% 47.5% 6.6% inter: 8.7% 10.0% 0.2%
[libx264 @ 0x55bc3eaa3a80] i16 v,h,dc,p: 42% 35% 18%  4%
[libx264 @ 0x55bc3eaa3a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 22% 48%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x55bc3eaa3a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 43% 22% 10%  2%  8%  6%  5%  3%  2%
[libx264 @ 0x55bc3eaa3a80] i8c dc,h,v,p: 49% 23% 26%  2%
[libx264 @ 0x55bc3eaa3a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55bc3eaa3a80] ref P L0: 69.1% 12.0% 12.9%  5.9%
[libx264 @ 0x55bc3eaa3a80] ref B L0: 77.0% 18.2%  4.8%
[libx264 @ 0x55bc3eaa3a80] ref B L1: 95.2%  4.8%
[libx264 @ 0x55bc3eaa3a80] kb/s:282.94
[aac @ 0x55bc3eac5c20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:47950 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47954 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:47956 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:47980 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:47988 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:47990 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:47992 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 165
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:04<00:16,  4.21s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:06,  2.28s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:03,  1.61s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.30s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.08it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.41s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.48s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.48s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 686 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 670 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55be28ceea00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55be28ceea00] using SAR=1/1
[libx264 @ 0x55be28ceea00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55be28ceea00] profile High, level 3.0
[libx264 @ 0x55be28ceea00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     128kB time=00:00:02.30 bitrate= 453.9kbits/s speed=5.94x    
video:108kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.001326%
[libx264 @ 0x55be28ceea00] frame I:1     Avg QP:18.01  size:  6220
[libx264 @ 0x55be28ceea00] frame P:37    Avg QP:20.97  size:  2273
[libx264 @ 0x55be28ceea00] frame B:27    Avg QP:23.84  size:   727
[libx264 @ 0x55be28ceea00] consecutive B-frames: 32.3% 24.6% 36.9%  6.2%
[libx264 @ 0x55be28ceea00] mb I  I16..4: 38.8% 59.1%  2.1%
[libx264 @ 0x55be28ceea00] mb P  I16..4:  1.8%  9.3%  0.0%  P16..4: 33.9%  5.1%  2.4%  0.0%  0.0%    skip:47.4%
[libx264 @ 0x55be28ceea00] mb B  I16..4:  0.3%  1.1%  0.0%  B16..8: 32.3%  1.5%  0.1%  direct: 0.6%  skip:64.2%  L0:61.0% L1:37.6% BI: 1.4%
[libx264 @ 0x55be28ceea00] 8x8 transform intra:79.1% inter:93.3%
[libx264 @ 0x55be28ceea00] coded y,uvDC,uvAC intra: 38.3% 38.5% 1.4% inter: 6.0% 6.5% 0.0%
[libx264 @ 0x55be28ceea00] i16 v,h,dc,p: 32% 28% 32%  9%
[libx264 @ 0x55be28ceea00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 29% 22% 41%  2%  1%  2%  1%  1%  1%
[libx264 @ 0x55be28ceea00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 36% 30% 11%  2%  5%  7%  4%  3%  2%
[libx264 @ 0x55be28ceea00] i8c dc,h,v,p: 54% 19% 24%  3%
[libx264 @ 0x55be28ceea00] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55be28ceea00] ref P L0: 73.5%  7.4% 13.6%  5.5%
[libx264 @ 0x55be28ceea00] ref B L0: 76.3% 20.8%  2.9%
[libx264 @ 0x55be28ceea00] ref B L1: 99.5%  0.5%
[libx264 @ 0x55be28ceea00] kb/s:405.92
[aac @ 0x55be28cf25a0] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:47994 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:47996 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:47998 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48000 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48002 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48004 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48006 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 112
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:14,  3.56s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:06,  2.02s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:03,  1.53s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.28s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.10it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.32s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.05s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.05s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 1028 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 1017 kb/s, 29.92 fps, 29.92 tbr, 29.92 tbn, 29917 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55f0841846c0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55f0841846c0] using SAR=1/1
[libx264 @ 0x55f0841846c0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55f0841846c0] profile High, level 3.0
[libx264 @ 0x55f0841846c0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.92 fps, 11488 tbn, 29.92 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     147kB time=00:00:02.30 bitrate= 523.3kbits/s speed=6.03x    
video:128kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.687573%
[libx264 @ 0x55f0841846c0] frame I:1     Avg QP:19.85  size: 10264
[libx264 @ 0x55f0841846c0] frame P:38    Avg QP:22.30  size:  2590
[libx264 @ 0x55f0841846c0] frame B:26    Avg QP:25.32  size:   819
[libx264 @ 0x55f0841846c0] consecutive B-frames: 41.5%  6.2% 27.7% 24.6%
[libx264 @ 0x55f0841846c0] mb I  I16..4: 35.4% 57.9%  6.7%
[libx264 @ 0x55f0841846c0] mb P  I16..4:  0.9%  3.4%  0.1%  P16..4: 33.8%  8.1%  3.5%  0.0%  0.0%    skip:50.1%
[libx264 @ 0x55f0841846c0] mb B  I16..4:  0.4%  1.6%  0.0%  B16..8: 27.3%  2.2%  0.1%  direct: 0.5%  skip:68.0%  L0:45.0% L1:52.8% BI: 2.2%
[libx264 @ 0x55f0841846c0] 8x8 transform intra:71.5% inter:83.1%
[libx264 @ 0x55f0841846c0] coded y,uvDC,uvAC intra: 40.3% 41.7% 3.8% inter: 8.9% 9.1% 0.1%
[libx264 @ 0x55f0841846c0] i16 v,h,dc,p: 34% 27% 23% 16%
[libx264 @ 0x55f0841846c0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 24% 22% 40%  2%  2%  2%  2%  2%  3%
[libx264 @ 0x55f0841846c0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 25% 13%  3%  3%  5%  3%  4%  2%
[libx264 @ 0x55f0841846c0] i8c dc,h,v,p: 52% 24% 19%  4%
[libx264 @ 0x55f0841846c0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55f0841846c0] ref P L0: 69.0% 12.4% 13.1%  5.5%
[libx264 @ 0x55f0841846c0] ref B L0: 80.4% 14.3%  5.2%
[libx264 @ 0x55f0841846c0] ref B L1: 97.1%  2.9%
[libx264 @ 0x55f0841846c0] kb/s:478.57
[aac @ 0x55f084185b40] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:48008 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48030 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:48032 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48034 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48036 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48040 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48044 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 133
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:14,  3.57s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:06,  2.02s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:03,  1.51s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.28s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.10it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.32s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.02s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.02s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 992 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 980 kb/s, 29.97 fps, 29.97 tbr, 29.97 tbn, 2997 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55d213103fa0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55d213103fa0] using SAR=1/1
[libx264 @ 0x55d213103fa0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55d213103fa0] profile High, level 3.0
[libx264 @ 0x55d213103fa0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.97 fps, 30k tbn, 29.97 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     142kB time=00:00:02.30 bitrate= 506.2kbits/s speed=5.98x    
video:123kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.733233%
[libx264 @ 0x55d213103fa0] frame I:1     Avg QP:19.58  size: 10739
[libx264 @ 0x55d213103fa0] frame P:41    Avg QP:22.26  size:  2371
[libx264 @ 0x55d213103fa0] frame B:23    Avg QP:25.81  size:   745
[libx264 @ 0x55d213103fa0] consecutive B-frames: 46.2% 12.3% 23.1% 18.5%
[libx264 @ 0x55d213103fa0] mb I  I16..4: 34.9% 60.8%  4.3%
[libx264 @ 0x55d213103fa0] mb P  I16..4:  0.8%  2.9%  0.1%  P16..4: 29.7%  7.5%  3.7%  0.0%  0.0%    skip:55.3%
[libx264 @ 0x55d213103fa0] mb B  I16..4:  0.3%  1.4%  0.0%  B16..8: 26.8%  1.9%  0.1%  direct: 0.4%  skip:69.2%  L0:47.0% L1:50.9% BI: 2.1%
[libx264 @ 0x55d213103fa0] 8x8 transform intra:71.9% inter:81.8%
[libx264 @ 0x55d213103fa0] coded y,uvDC,uvAC intra: 44.7% 43.9% 3.5% inter: 8.6% 8.2% 0.1%
[libx264 @ 0x55d213103fa0] i16 v,h,dc,p: 31% 30% 23% 16%
[libx264 @ 0x55d213103fa0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 23% 36%  2%  3%  3%  3%  2%  2%
[libx264 @ 0x55d213103fa0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 26% 11%  3%  4%  4%  5%  3%  2%
[libx264 @ 0x55d213103fa0] i8c dc,h,v,p: 52% 26% 19%  4%
[libx264 @ 0x55d213103fa0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55d213103fa0] ref P L0: 70.8% 12.6% 11.8%  4.9%
[libx264 @ 0x55d213103fa0] ref B L0: 81.3% 16.1%  2.6%
[libx264 @ 0x55d213103fa0] ref B L1: 98.6%  1.4%
[libx264 @ 0x55d213103fa0] kb/s:461.40
[aac @ 0x55d2130b3ca0] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:48048 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48062 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:48064 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48066 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48068 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48074 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48076 - "GET /Wav2Lip/inputs/input.wav HTTP/1.0" 200 OK
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 122
(80, 185)
Length of mel chunks: 65
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:04<00:16,  4.23s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:07,  2.61s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:06<00:03,  1.89s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:07<00:01,  1.49s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.04s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.57s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.35s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.36s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Wav2Lip/inputs/input.wav':
  Duration: 00:00:02.30, bitrate: 256 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 16000 Hz, mono, s16, 256 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.17, start: 0.000000, bitrate: 763 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 748 kb/s, 29.97 fps, 29.97 tbr, 29.97 tbn, 2997 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55d02b1dc360] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55d02b1dc360] using SAR=1/1
[libx264 @ 0x55d02b1dc360] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55d02b1dc360] profile High, level 3.0
[libx264 @ 0x55d02b1dc360] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.97 fps, 30k tbn, 29.97 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 16000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   65 fps=0.0 q=-1.0 Lsize=     110kB time=00:00:02.30 bitrate= 390.5kbits/s speed=7.13x    
video:90kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.310393%
[libx264 @ 0x55d02b1dc360] frame I:1     Avg QP:17.85  size:  9574
[libx264 @ 0x55d02b1dc360] frame P:39    Avg QP:21.23  size:  1793
[libx264 @ 0x55d02b1dc360] frame B:25    Avg QP:21.96  size:   488
[libx264 @ 0x55d02b1dc360] consecutive B-frames: 38.5% 21.5% 27.7% 12.3%
[libx264 @ 0x55d02b1dc360] mb I  I16..4: 46.7% 47.0%  6.3%
[libx264 @ 0x55d02b1dc360] mb P  I16..4:  1.2%  3.4%  0.1%  P16..4: 22.4%  4.9%  3.0%  0.0%  0.0%    skip:65.0%
[libx264 @ 0x55d02b1dc360] mb B  I16..4:  0.3%  1.2%  0.0%  B16..8: 23.2%  1.1%  0.0%  direct: 0.7%  skip:73.5%  L0:45.0% L1:54.3% BI: 0.7%
[libx264 @ 0x55d02b1dc360] 8x8 transform intra:65.0% inter:81.9%
[libx264 @ 0x55d02b1dc360] coded y,uvDC,uvAC intra: 30.8% 33.0% 3.1% inter: 4.9% 6.4% 0.1%
[libx264 @ 0x55d02b1dc360] i16 v,h,dc,p: 41% 32% 20%  7%
[libx264 @ 0x55d02b1dc360] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 22% 44%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x55d02b1dc360] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 42% 28% 10%  3%  2%  4%  3%  4%  3%
[libx264 @ 0x55d02b1dc360] i8c dc,h,v,p: 51% 27% 20%  3%
[libx264 @ 0x55d02b1dc360] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55d02b1dc360] ref P L0: 74.8%  7.7% 12.3%  5.1%
[libx264 @ 0x55d02b1dc360] ref B L0: 73.4% 21.5%  5.1%
[libx264 @ 0x55d02b1dc360] ref B L1: 98.8%  1.2%
[libx264 @ 0x55d02b1dc360] kb/s:338.28
[aac @ 0x55d02b194680] Qavg: 31071.182

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.wav --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.wav', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:48078 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48080 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:48082 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48084 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48086 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48088 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48092 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     259kB time=00:00:02.76 bitrate= 768.2kbits/s speed= 236x    
video:0kB audio:259kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.029438%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 221)
Length of mel chunks: 79
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:04<00:17,  4.30s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:05<00:07,  2.57s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:06<00:03,  1.96s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:08<00:01,  1.65s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:11<00:00,  2.11s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:11<00:00,  2.20s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:13<00:00, 13.81s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:13<00:00, 13.81s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.76, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.63, start: 0.000000, bitrate: 1182 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1174 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5626b24f69c0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5626b24f69c0] using SAR=1/1
[libx264 @ 0x5626b24f69c0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5626b24f69c0] profile High, level 3.1
[libx264 @ 0x5626b24f69c0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   79 fps=0.0 q=-1.0 Lsize=     218kB time=00:00:02.77 bitrate= 642.6kbits/s speed=4.92x    
video:190kB audio:24kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.922452%
[libx264 @ 0x5626b24f69c0] frame I:1     Avg QP:20.16  size: 12978
[libx264 @ 0x5626b24f69c0] frame P:33    Avg QP:21.43  size:  3986
[libx264 @ 0x5626b24f69c0] frame B:45    Avg QP:25.42  size:  1090
[libx264 @ 0x5626b24f69c0] consecutive B-frames: 16.5% 12.7% 30.4% 40.5%
[libx264 @ 0x5626b24f69c0] mb I  I16..4: 27.2% 72.3%  0.5%
[libx264 @ 0x5626b24f69c0] mb P  I16..4:  3.3%  9.0%  0.1%  P16..4: 40.5%  8.4%  3.5%  0.0%  0.0%    skip:35.2%
[libx264 @ 0x5626b24f69c0] mb B  I16..4:  0.3%  1.4%  0.0%  B16..8: 33.3%  1.8%  0.1%  direct: 0.3%  skip:62.8%  L0:49.7% L1:48.5% BI: 1.8%
[libx264 @ 0x5626b24f69c0] 8x8 transform intra:73.9% inter:86.5%
[libx264 @ 0x5626b24f69c0] coded y,uvDC,uvAC intra: 42.0% 33.3% 1.0% inter: 6.6% 5.6% 0.0%
[libx264 @ 0x5626b24f69c0] i16 v,h,dc,p: 26% 33% 21% 21%
[libx264 @ 0x5626b24f69c0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  3%  1%  2%  1%  2%  2%
[libx264 @ 0x5626b24f69c0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 27% 33% 11%  3%  7%  4%  8%  4%  2%
[libx264 @ 0x5626b24f69c0] i8c dc,h,v,p: 58% 20% 21%  2%
[libx264 @ 0x5626b24f69c0] Weighted P-Frames: Y:3.0% UV:0.0%
[libx264 @ 0x5626b24f69c0] ref P L0: 65.6% 11.0% 16.8%  6.5%  0.1%
[libx264 @ 0x5626b24f69c0] ref B L0: 82.9% 14.0%  3.0%
[libx264 @ 0x5626b24f69c0] ref B L1: 97.1%  2.9%
[libx264 @ 0x5626b24f69c0] kb/s:588.08
[aac @ 0x5626b24f7780] Qavg: 609.975

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48096 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48100 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48102 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48106 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48108 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48236 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48240 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48248 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48250 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 249x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.54s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.35s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.03s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.23s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.85s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.85s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55e5543cba80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55e5543cba80] using SAR=1/1
[libx264 @ 0x55e5543cba80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55e5543cba80] profile High, level 2.1
[libx264 @ 0x55e5543cba80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      72kB time=00:00:01.69 bitrate= 348.4kbits/s speed=7.38x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.772816%
[libx264 @ 0x55e5543cba80] frame I:1     Avg QP:18.59  size:  9229
[libx264 @ 0x55e5543cba80] frame P:17    Avg QP:20.41  size:  2083
[libx264 @ 0x55e5543cba80] frame B:21    Avg QP:24.49  size:   562
[libx264 @ 0x55e5543cba80] consecutive B-frames: 25.6%  5.1%  7.7% 61.5%
[libx264 @ 0x55e5543cba80] mb I  I16..4: 30.1% 66.1%  3.8%
[libx264 @ 0x55e5543cba80] mb P  I16..4:  1.9%  6.2%  0.0%  P16..4: 29.0% 10.6%  6.7%  0.0%  0.0%    skip:45.5%
[libx264 @ 0x55e5543cba80] mb B  I16..4:  0.4%  2.0%  0.0%  B16..8: 33.6%  3.3%  0.3%  direct: 1.1%  skip:59.4%  L0:50.6% L1:46.7% BI: 2.7%
[libx264 @ 0x55e5543cba80] 8x8 transform intra:74.3% inter:84.1%
[libx264 @ 0x55e5543cba80] coded y,uvDC,uvAC intra: 40.4% 46.4% 6.5% inter: 8.9% 9.8% 0.2%
[libx264 @ 0x55e5543cba80] i16 v,h,dc,p: 36% 37% 22%  5%
[libx264 @ 0x55e5543cba80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 48%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x55e5543cba80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 49% 21%  5%  2%  7%  6%  4%  5%  1%
[libx264 @ 0x55e5543cba80] i8c dc,h,v,p: 48% 24% 26%  3%
[libx264 @ 0x55e5543cba80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55e5543cba80] ref P L0: 67.1% 12.5% 13.8%  6.6%
[libx264 @ 0x55e5543cba80] ref B L0: 81.2% 15.0%  3.7%
[libx264 @ 0x55e5543cba80] ref B L1: 95.2%  4.8%
[libx264 @ 0x55e5543cba80] kb/s:289.40
[aac @ 0x55e5543edd20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48252 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48254 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48256 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48258 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48262 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48264 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48270 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     293kB time=00:00:03.12 bitrate= 768.2kbits/s speed= 183x    
video:0kB audio:292kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.026042%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 250)
Length of mel chunks: 90
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:04<00:20,  4.13s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:05<00:09,  2.38s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:06<00:05,  1.83s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:07<00:03,  1.58s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:08<00:01,  1.45s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.74s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:11<00:00,  1.86s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.34s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:14<00:00, 14.34s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:03.12, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:03.00, start: 0.000000, bitrate: 1142 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1134 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55b3c6f65fa0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55b3c6f65fa0] using SAR=1/1
[libx264 @ 0x55b3c6f65fa0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55b3c6f65fa0] profile High, level 3.1
[libx264 @ 0x55b3c6f65fa0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   90 fps=0.0 q=-1.0 Lsize=     244kB time=00:00:03.13 bitrate= 637.4kbits/s speed=5.21x    
video:213kB audio:27kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 1.856517%
[libx264 @ 0x55b3c6f65fa0] frame I:1     Avg QP:20.59  size: 12822
[libx264 @ 0x55b3c6f65fa0] frame P:43    Avg QP:21.50  size:  3635
[libx264 @ 0x55b3c6f65fa0] frame B:46    Avg QP:25.33  size:  1043
[libx264 @ 0x55b3c6f65fa0] consecutive B-frames: 23.3% 15.6% 30.0% 31.1%
[libx264 @ 0x55b3c6f65fa0] mb I  I16..4: 28.3% 70.6%  1.1%
[libx264 @ 0x55b3c6f65fa0] mb P  I16..4:  2.9%  8.3%  0.1%  P16..4: 37.7%  7.7%  3.2%  0.0%  0.0%    skip:40.2%
[libx264 @ 0x55b3c6f65fa0] mb B  I16..4:  0.4%  1.5%  0.0%  B16..8: 33.2%  1.6%  0.1%  direct: 0.3%  skip:63.0%  L0:54.1% L1:44.0% BI: 1.9%
[libx264 @ 0x55b3c6f65fa0] 8x8 transform intra:74.0% inter:85.9%
[libx264 @ 0x55b3c6f65fa0] coded y,uvDC,uvAC intra: 41.7% 32.1% 0.9% inter: 6.6% 5.6% 0.0%
[libx264 @ 0x55b3c6f65fa0] i16 v,h,dc,p: 27% 34% 21% 18%
[libx264 @ 0x55b3c6f65fa0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 27% 38%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x55b3c6f65fa0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 23% 13%  4%  5%  4%  6%  4%  2%
[libx264 @ 0x55b3c6f65fa0] i8c dc,h,v,p: 59% 19% 20%  2%
[libx264 @ 0x55b3c6f65fa0] Weighted P-Frames: Y:2.3% UV:0.0%
[libx264 @ 0x55b3c6f65fa0] ref P L0: 68.2% 10.6% 15.0%  5.9%  0.2%
[libx264 @ 0x55b3c6f65fa0] ref B L0: 82.1% 15.0%  2.9%
[libx264 @ 0x55b3c6f65fa0] ref B L1: 98.2%  1.8%
[libx264 @ 0x55b3c6f65fa0] kb/s:578.89
[aac @ 0x55b3c6f66a80] Qavg: 142.692

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48276 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48282 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48284 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48292 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48294 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48296 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48298 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 161x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 125
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.47s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.92s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.43s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.20s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.50s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.62s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.62s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.13, start: 0.000000, bitrate: 881 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 867 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5599a2dd1520] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5599a2dd1520] using SAR=1/1
[libx264 @ 0x5599a2dd1520] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5599a2dd1520] profile High, level 3.0
[libx264 @ 0x5599a2dd1520] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/NEU.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   64 fps=0.0 q=-1.0 Lsize=     124kB time=00:00:02.27 bitrate= 446.8kbits/s speed=5.81x    
video:101kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.812697%
[libx264 @ 0x5599a2dd1520] frame I:1     Avg QP:18.71  size: 11532
[libx264 @ 0x5599a2dd1520] frame P:47    Avg QP:22.17  size:  1782
[libx264 @ 0x5599a2dd1520] frame B:16    Avg QP:24.11  size:   491
[libx264 @ 0x5599a2dd1520] consecutive B-frames: 59.4% 18.8%  9.4% 12.5%
[libx264 @ 0x5599a2dd1520] mb I  I16..4: 39.7% 54.2%  6.1%
[libx264 @ 0x5599a2dd1520] mb P  I16..4:  0.7%  2.5%  0.0%  P16..4: 22.4%  5.8%  3.2%  0.0%  0.0%    skip:65.3%
[libx264 @ 0x5599a2dd1520] mb B  I16..4:  0.5%  1.3%  0.0%  B16..8: 24.6%  1.2%  0.0%  direct: 0.3%  skip:72.0%  L0:41.8% L1:57.3% BI: 0.9%
[libx264 @ 0x5599a2dd1520] 8x8 transform intra:68.6% inter:78.8%
[libx264 @ 0x5599a2dd1520] coded y,uvDC,uvAC intra: 34.8% 39.1% 3.8% inter: 6.5% 6.7% 0.1%
[libx264 @ 0x5599a2dd1520] i16 v,h,dc,p: 42% 31% 18%  9%
[libx264 @ 0x5599a2dd1520] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 27% 21% 42%  2%  1%  1%  1%  2%  2%
[libx264 @ 0x5599a2dd1520] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 46% 15% 12%  3%  5%  5%  4%  7%  3%
[libx264 @ 0x5599a2dd1520] i8c dc,h,v,p: 52% 21% 23%  3%
[libx264 @ 0x5599a2dd1520] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5599a2dd1520] ref P L0: 74.4% 11.5% 10.3%  3.8%
[libx264 @ 0x5599a2dd1520] ref B L0: 82.1% 15.5%  2.4%
[libx264 @ 0x5599a2dd1520] ref B L1: 98.0%  2.0%
[libx264 @ 0x5599a2dd1520] kb/s:386.86
[aac @ 0x5599a2dd2da0] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
NEU
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion NEU
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'NEU']
neutral <class 'str'>
INFO:     192.168.1.27:48300 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48302 - "GET /emo/syncInput?emotion=neutral HTTP/1.0" 200 OK
INFO:     192.168.1.27:48304 - "GET /Emotional-Talking-Faces/results/NEU.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48306 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48308 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:48310 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48312 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48314 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48338 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     186kB time=00:00:01.98 bitrate= 768.3kbits/s speed= 147x    
video:0kB audio:186kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.041035%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 159)
Length of mel chunks: 55
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:04<00:12,  4.15s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:05<00:04,  2.47s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:06<00:01,  1.90s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:08<00:00,  1.81s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:08<00:00,  2.08s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.94s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.94s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:01.98, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.83, start: 0.000000, bitrate: 1201 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1192 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x563157477da0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x563157477da0] using SAR=1/1
[libx264 @ 0x563157477da0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x563157477da0] profile High, level 3.1
[libx264 @ 0x563157477da0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   55 fps=0.0 q=-1.0 Lsize=     153kB time=00:00:01.98 bitrate= 630.0kbits/s speed=4.04x    
video:132kB audio:17kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.204560%
[libx264 @ 0x563157477da0] frame I:1     Avg QP:19.99  size: 13080
[libx264 @ 0x563157477da0] frame P:21    Avg QP:21.78  size:  4017
[libx264 @ 0x563157477da0] frame B:33    Avg QP:25.77  size:  1127
[libx264 @ 0x563157477da0] consecutive B-frames: 14.5%  7.3% 27.3% 50.9%
[libx264 @ 0x563157477da0] mb I  I16..4: 28.5% 70.6%  0.9%
[libx264 @ 0x563157477da0] mb P  I16..4:  3.4% 10.5%  0.1%  P16..4: 38.9%  8.2%  3.5%  0.0%  0.0%    skip:35.4%
[libx264 @ 0x563157477da0] mb B  I16..4:  0.3%  1.0%  0.0%  B16..8: 36.0%  2.0%  0.1%  direct: 0.2%  skip:60.4%  L0:54.1% L1:44.0% BI: 1.9%
[libx264 @ 0x563157477da0] 8x8 transform intra:74.3% inter:87.0%
[libx264 @ 0x563157477da0] coded y,uvDC,uvAC intra: 44.0% 36.0% 1.3% inter: 6.1% 5.2% 0.0%
[libx264 @ 0x563157477da0] i16 v,h,dc,p: 29% 35% 20% 16%
[libx264 @ 0x563157477da0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  3%  1%  2%  1%  2%  1%
[libx264 @ 0x563157477da0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 39% 17%  9%  6%  6%  4%  9%  8%  3%
[libx264 @ 0x563157477da0] i8c dc,h,v,p: 56% 20% 21%  2%
[libx264 @ 0x563157477da0] Weighted P-Frames: Y:9.5% UV:0.0%
[libx264 @ 0x563157477da0] ref P L0: 64.8% 10.6% 17.5%  6.7%  0.4%
[libx264 @ 0x563157477da0] ref B L0: 83.5% 13.5%  3.0%
[libx264 @ 0x563157477da0] ref B L1: 94.7%  5.3%
[libx264 @ 0x563157477da0] kb/s:587.40
[aac @ 0x563157478f00] Qavg: 117.420

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:48340 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48342 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:48344 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48346 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48356 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48358 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48360 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 266x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 91
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.47s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.98s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.50s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.29s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.58s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.77s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.77s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.13, start: 0.000000, bitrate: 950 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 937 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5647143f1520] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5647143f1520] using SAR=1/1
[libx264 @ 0x5647143f1520] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5647143f1520] profile High, level 3.0
[libx264 @ 0x5647143f1520] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/ANG.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   64 fps=0.0 q=-1.0 Lsize=     129kB time=00:00:02.27 bitrate= 464.9kbits/s speed=5.86x    
video:106kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.828369%
[libx264 @ 0x5647143f1520] frame I:1     Avg QP:19.92  size: 11029
[libx264 @ 0x5647143f1520] frame P:32    Avg QP:21.96  size:  2438
[libx264 @ 0x5647143f1520] frame B:31    Avg QP:24.09  size:   616
[libx264 @ 0x5647143f1520] consecutive B-frames: 28.1% 18.8%  9.4% 43.8%
[libx264 @ 0x5647143f1520] mb I  I16..4: 36.3% 58.8%  4.9%
[libx264 @ 0x5647143f1520] mb P  I16..4:  1.5%  4.2%  0.1%  P16..4: 27.1%  7.0%  3.8%  0.0%  0.0%    skip:56.3%
[libx264 @ 0x5647143f1520] mb B  I16..4:  0.3%  0.8%  0.0%  B16..8: 27.5%  1.6%  0.1%  direct: 0.3%  skip:69.3%  L0:53.2% L1:45.0% BI: 1.8%
[libx264 @ 0x5647143f1520] 8x8 transform intra:68.0% inter:79.6%
[libx264 @ 0x5647143f1520] coded y,uvDC,uvAC intra: 36.2% 37.6% 4.2% inter: 6.2% 6.5% 0.1%
[libx264 @ 0x5647143f1520] i16 v,h,dc,p: 36% 32% 21% 11%
[libx264 @ 0x5647143f1520] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 27% 25% 37%  3%  1%  2%  2%  2%  2%
[libx264 @ 0x5647143f1520] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 46% 21% 14%  3%  3%  6%  2%  4%  2%
[libx264 @ 0x5647143f1520] i8c dc,h,v,p: 49% 24% 24%  3%
[libx264 @ 0x5647143f1520] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5647143f1520] ref P L0: 73.4% 10.1% 11.7%  4.7%
[libx264 @ 0x5647143f1520] ref B L0: 81.5% 15.3%  3.2%
[libx264 @ 0x5647143f1520] ref B L1: 97.3%  2.7%
[libx264 @ 0x5647143f1520] kb/s:405.50
[aac @ 0x5647143f61c0] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
ANG
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion ANG
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'ANG']
anger <class 'str'>
INFO:     192.168.1.27:48362 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48364 - "GET /emo/syncInput?emotion=anger HTTP/1.0" 200 OK
INFO:     192.168.1.27:48366 - "GET /Emotional-Talking-Faces/results/ANG.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48368 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48370 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48372 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48398 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:48400 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48402 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 359x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 69
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.42s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.91s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.42s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.20s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.49s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.46s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.46s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.14, start: 0.000000, bitrate: 817 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 802 kb/s, 29.92 fps, 29.92 tbr, 29.92 tbn, 29917 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5583f5305be0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5583f5305be0] using SAR=1/1
[libx264 @ 0x5583f5305be0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5583f5305be0] profile High, level 3.0
[libx264 @ 0x5583f5305be0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.92 fps, 11488 tbn, 29.92 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   64 fps=0.0 q=-1.0 Lsize=     118kB time=00:00:02.27 bitrate= 424.4kbits/s speed=5.87x    
video:95kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.063777%
[libx264 @ 0x5583f5305be0] frame I:1     Avg QP:17.70  size:  9703
[libx264 @ 0x5583f5305be0] frame P:36    Avg QP:21.25  size:  2011
[libx264 @ 0x5583f5305be0] frame B:27    Avg QP:23.11  size:   540
[libx264 @ 0x5583f5305be0] consecutive B-frames: 34.4% 21.9% 18.8% 25.0%
[libx264 @ 0x5583f5305be0] mb I  I16..4: 42.8% 52.4%  4.8%
[libx264 @ 0x5583f5305be0] mb P  I16..4:  1.1%  3.6%  0.1%  P16..4: 26.0%  5.9%  3.1%  0.0%  0.0%    skip:60.3%
[libx264 @ 0x5583f5305be0] mb B  I16..4:  0.4%  1.3%  0.0%  B16..8: 25.7%  1.0%  0.0%  direct: 0.6%  skip:70.9%  L0:53.5% L1:45.2% BI: 1.3%
[libx264 @ 0x5583f5305be0] 8x8 transform intra:68.7% inter:81.6%
[libx264 @ 0x5583f5305be0] coded y,uvDC,uvAC intra: 32.5% 34.3% 3.2% inter: 5.8% 6.7% 0.1%
[libx264 @ 0x5583f5305be0] i16 v,h,dc,p: 46% 27% 19%  8%
[libx264 @ 0x5583f5305be0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 20% 44%  2%  1%  1%  1%  1%  2%
[libx264 @ 0x5583f5305be0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 23%  9%  6%  5%  4%  4%  6%  3%
[libx264 @ 0x5583f5305be0] i8c dc,h,v,p: 52% 27% 18%  3%
[libx264 @ 0x5583f5305be0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5583f5305be0] ref P L0: 76.5%  7.7% 11.3%  4.5%
[libx264 @ 0x5583f5305be0] ref B L0: 77.8% 19.3%  2.9%
[libx264 @ 0x5583f5305be0] ref B L1: 98.0%  2.0%
[libx264 @ 0x5583f5305be0] kb/s:361.57
[aac @ 0x5583f52bb280] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:48404 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48406 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:48408 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48410 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48412 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48414 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     242kB time=00:00:02.58 bitrate= 768.2kbits/s speed= 337x    
video:0kB audio:242kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.031492%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 78
Extracting raw audio...
(80, 207)
Length of mel chunks: 73
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:13,  3.45s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:05,  1.92s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:02,  1.43s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:05<00:01,  1.20s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.31s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.50s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.02s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.02s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.58, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.44, start: 0.000000, bitrate: 856 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 843 kb/s, 29.97 fps, 29.97 tbr, 29.97 tbn, 2997 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55c633f38520] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55c633f38520] using SAR=1/1
[libx264 @ 0x55c633f38520] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55c633f38520] profile High, level 3.0
[libx264 @ 0x55c633f38520] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.97 fps, 30k tbn, 29.97 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   73 fps=0.0 q=-1.0 Lsize=     133kB time=00:00:02.58 bitrate= 421.9kbits/s speed=6.62x    
video:107kB audio:22kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.015053%
[libx264 @ 0x55c633f38520] frame I:1     Avg QP:17.94  size:  9919
[libx264 @ 0x55c633f38520] frame P:35    Avg QP:21.39  size:  2205
[libx264 @ 0x55c633f38520] frame B:37    Avg QP:23.86  size:   586
[libx264 @ 0x55c633f38520] consecutive B-frames: 26.0% 16.4%  8.2% 49.3%
[libx264 @ 0x55c633f38520] mb I  I16..4: 41.8% 52.2%  5.9%
[libx264 @ 0x55c633f38520] mb P  I16..4:  1.3%  4.1%  0.1%  P16..4: 25.8%  6.3%  3.4%  0.0%  0.0%    skip:59.0%
[libx264 @ 0x55c633f38520] mb B  I16..4:  0.3%  1.0%  0.0%  B16..8: 25.6%  1.4%  0.1%  direct: 0.6%  skip:71.0%  L0:51.5% L1:47.1% BI: 1.5%
[libx264 @ 0x55c633f38520] 8x8 transform intra:68.8% inter:80.9%
[libx264 @ 0x55c633f38520] coded y,uvDC,uvAC intra: 34.2% 35.0% 3.2% inter: 5.6% 6.1% 0.1%
[libx264 @ 0x55c633f38520] i16 v,h,dc,p: 41% 29% 21%  9%
[libx264 @ 0x55c633f38520] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 21% 44%  2%  1%  1%  2%  2%  2%
[libx264 @ 0x55c633f38520] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 39% 22% 10%  3%  5%  5%  5%  6%  4%
[libx264 @ 0x55c633f38520] i8c dc,h,v,p: 52% 25% 20%  3%
[libx264 @ 0x55c633f38520] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55c633f38520] ref P L0: 71.7%  8.5% 14.2%  5.6%
[libx264 @ 0x55c633f38520] ref B L0: 79.6% 17.4%  2.9%
[libx264 @ 0x55c633f38520] ref B L1: 95.1%  4.9%
[libx264 @ 0x55c633f38520] kb/s:357.22
[aac @ 0x55c633f399c0] Qavg: 112.885

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48416 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48432 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48434 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48436 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48438 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48440 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     169kB time=00:00:01.80 bitrate= 768.3kbits/s speed= 287x    
video:0kB audio:169kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.045139%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 81
Extracting raw audio...
(80, 145)
Length of mel chunks: 50
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.60s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.99s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.47s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.05s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:05<00:00,  1.43s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.97s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:07<00:00,  7.97s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:01.80, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.67, start: 0.000000, bitrate: 906 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 890 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55de2f6ba000] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55de2f6ba000] using SAR=1/1
[libx264 @ 0x55de2f6ba000] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55de2f6ba000] profile High, level 3.0
[libx264 @ 0x55de2f6ba000] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   50 fps=0.0 q=-1.0 Lsize=      98kB time=00:00:01.81 bitrate= 442.8kbits/s speed=5.57x    
video:80kB audio:16kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.145456%
[libx264 @ 0x55de2f6ba000] frame I:1     Avg QP:18.63  size:  9623
[libx264 @ 0x55de2f6ba000] frame P:33    Avg QP:22.02  size:  1857
[libx264 @ 0x55de2f6ba000] frame B:16    Avg QP:23.43  size:   614
[libx264 @ 0x55de2f6ba000] consecutive B-frames: 52.0% 12.0% 12.0% 24.0%
[libx264 @ 0x55de2f6ba000] mb I  I16..4: 42.2% 53.2%  4.5%
[libx264 @ 0x55de2f6ba000] mb P  I16..4:  0.9%  3.0%  0.0%  P16..4: 24.2%  5.6%  3.0%  0.0%  0.0%    skip:63.2%
[libx264 @ 0x55de2f6ba000] mb B  I16..4:  0.4%  1.2%  0.0%  B16..8: 24.2%  1.6%  0.1%  direct: 0.5%  skip:72.0%  L0:48.0% L1:50.2% BI: 1.8%
[libx264 @ 0x55de2f6ba000] 8x8 transform intra:67.4% inter:81.7%
[libx264 @ 0x55de2f6ba000] coded y,uvDC,uvAC intra: 34.9% 33.7% 3.2% inter: 6.5% 7.0% 0.1%
[libx264 @ 0x55de2f6ba000] i16 v,h,dc,p: 51% 23% 17% 10%
[libx264 @ 0x55de2f6ba000] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 19% 42%  3%  1%  2%  2%  2%  2%
[libx264 @ 0x55de2f6ba000] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 44% 14% 11%  6%  4%  5%  3%  8%  3%
[libx264 @ 0x55de2f6ba000] i8c dc,h,v,p: 54% 24% 20%  3%
[libx264 @ 0x55de2f6ba000] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55de2f6ba000] ref P L0: 71.9% 10.9% 12.5%  4.7%
[libx264 @ 0x55de2f6ba000] ref B L0: 82.4% 14.4%  3.3%
[libx264 @ 0x55de2f6ba000] ref B L1: 96.2%  3.8%
[libx264 @ 0x55de2f6ba000] kb/s:387.51
[aac @ 0x55de2f6be9a0] Qavg: 885.347

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48442 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48444 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48446 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48448 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48450 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48452 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     135kB time=00:00:01.44 bitrate= 768.4kbits/s speed= 237x    
video:0kB audio:135kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.056424%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 78
Extracting raw audio...
(80, 116)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:03<00:07,  3.58s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:04<00:02,  2.02s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:05<00:00,  1.67s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:05<00:00,  1.92s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.07s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.07s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:01.44, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.30, start: 0.000000, bitrate: 1038 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 1023 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55b1a54edd80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55b1a54edd80] using SAR=1/1
[libx264 @ 0x55b1a54edd80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55b1a54edd80] profile High, level 3.0
[libx264 @ 0x55b1a54edd80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      92kB time=00:00:01.45 bitrate= 519.3kbits/s speed=4.88x    
video:77kB audio:13kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.033983%
[libx264 @ 0x55b1a54edd80] frame I:1     Avg QP:18.63  size:  9876
[libx264 @ 0x55b1a54edd80] frame P:19    Avg QP:21.91  size:  2619
[libx264 @ 0x55b1a54edd80] frame B:19    Avg QP:22.64  size:   957
[libx264 @ 0x55b1a54edd80] consecutive B-frames: 28.2% 20.5%  0.0% 51.3%
[libx264 @ 0x55b1a54edd80] mb I  I16..4: 42.9% 51.8%  5.2%
[libx264 @ 0x55b1a54edd80] mb P  I16..4:  2.1%  4.8%  0.1%  P16..4: 33.6%  7.8%  3.6%  0.0%  0.0%    skip:48.0%
[libx264 @ 0x55b1a54edd80] mb B  I16..4:  0.5%  1.8%  0.0%  B16..8: 33.0%  2.5%  0.1%  direct: 2.6%  skip:59.5%  L0:51.1% L1:47.3% BI: 1.6%
[libx264 @ 0x55b1a54edd80] 8x8 transform intra:63.9% inter:84.7%
[libx264 @ 0x55b1a54edd80] coded y,uvDC,uvAC intra: 35.4% 41.4% 3.1% inter: 7.4% 13.6% 0.1%
[libx264 @ 0x55b1a54edd80] i16 v,h,dc,p: 47% 27% 17%  9%
[libx264 @ 0x55b1a54edd80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 22% 38%  3%  2%  2%  2%  3%  2%
[libx264 @ 0x55b1a54edd80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 44% 18% 11%  4%  6%  5%  4%  6%  2%
[libx264 @ 0x55b1a54edd80] i8c dc,h,v,p: 48% 27% 22%  3%
[libx264 @ 0x55b1a54edd80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55b1a54edd80] ref P L0: 71.6% 10.4% 13.6%  4.4%
[libx264 @ 0x55b1a54edd80] ref B L0: 85.1% 13.2%  1.7%
[libx264 @ 0x55b1a54edd80] ref B L1: 96.0%  4.0%
[libx264 @ 0x55b1a54edd80] kb/s:478.88
[aac @ 0x55b1a54ef220] Qavg: 130.401

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48454 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48456 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48458 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48460 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48462 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:48464 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     158kB time=00:00:01.68 bitrate= 768.4kbits/s speed= 162x    
video:0kB audio:158kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.048363%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 68
Extracting raw audio...
(80, 135)
Length of mel chunks: 46
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:03<00:07,  3.55s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:04<00:01,  1.99s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  1.99s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:06<00:00,  2.15s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.64s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.64s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.53, start: 0.000000, bitrate: 887 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 870 kb/s, 29.97 fps, 29.97 tbr, 29.97 tbn, 2997 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55e7edb53c00] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55e7edb53c00] using SAR=1/1
[libx264 @ 0x55e7edb53c00] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55e7edb53c00] profile High, level 3.0
[libx264 @ 0x55e7edb53c00] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 29.97 fps, 30k tbn, 29.97 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   46 fps=0.0 q=-1.0 Lsize=      96kB time=00:00:01.68 bitrate= 465.2kbits/s speed=5.51x    
video:78kB audio:15kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.110237%
[libx264 @ 0x55e7edb53c00] frame I:1     Avg QP:19.33  size: 10001
[libx264 @ 0x55e7edb53c00] frame P:29    Avg QP:21.90  size:  2052
[libx264 @ 0x55e7edb53c00] frame B:16    Avg QP:23.94  size:   616
[libx264 @ 0x55e7edb53c00] consecutive B-frames: 43.5% 30.4%  0.0% 26.1%
[libx264 @ 0x55e7edb53c00] mb I  I16..4: 43.1% 53.3%  3.6%
[libx264 @ 0x55e7edb53c00] mb P  I16..4:  1.1%  3.4%  0.1%  P16..4: 26.8%  5.9%  3.1%  0.0%  0.0%    skip:59.7%
[libx264 @ 0x55e7edb53c00] mb B  I16..4:  0.4%  1.4%  0.0%  B16..8: 24.1%  1.7%  0.1%  direct: 0.4%  skip:72.0%  L0:44.6% L1:53.9% BI: 1.5%
[libx264 @ 0x55e7edb53c00] 8x8 transform intra:66.8% inter:82.2%
[libx264 @ 0x55e7edb53c00] coded y,uvDC,uvAC intra: 35.7% 35.3% 3.7% inter: 6.8% 7.7% 0.1%
[libx264 @ 0x55e7edb53c00] i16 v,h,dc,p: 44% 27% 21%  9%
[libx264 @ 0x55e7edb53c00] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 27% 22% 39%  2%  2%  2%  2%  2%  2%
[libx264 @ 0x55e7edb53c00] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 37% 23% 14%  3%  4%  4%  3%  9%  3%
[libx264 @ 0x55e7edb53c00] i8c dc,h,v,p: 54% 26% 18%  2%
[libx264 @ 0x55e7edb53c00] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55e7edb53c00] ref P L0: 72.5%  8.8% 13.3%  5.4%
[libx264 @ 0x55e7edb53c00] ref B L0: 76.6% 19.8%  3.6%
[libx264 @ 0x55e7edb53c00] ref B L1: 95.0%  5.0%
[libx264 @ 0x55e7edb53c00] kb/s:413.65
[aac @ 0x55e7edb06a20] Qavg: 105.672

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:48466 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48468 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:48470 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48472 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48474 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48476 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48478 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:48488 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:48510 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:48512 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48548 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48550 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48552 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:48554 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 369x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:05<00:15,  5.23s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:07<00:06,  3.31s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:08<00:02,  2.32s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:09<00:00,  1.86s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:09<00:00,  2.37s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:12<00:00, 12.18s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:12<00:00, 12.18s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.13, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x561b136a16e0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x561b136a16e0] using SAR=1/1
[libx264 @ 0x561b136a16e0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x561b136a16e0] profile High, level 3.1
[libx264 @ 0x561b136a16e0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   64 fps=0.0 q=-1.0 Lsize=     175kB time=00:00:02.27 bitrate= 630.0kbits/s speed=4.59x    
video:152kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.076712%
[libx264 @ 0x561b136a16e0] frame I:1     Avg QP:20.27  size: 12821
[libx264 @ 0x561b136a16e0] frame P:28    Avg QP:21.60  size:  3741
[libx264 @ 0x561b136a16e0] frame B:35    Avg QP:25.29  size:  1073
[libx264 @ 0x561b136a16e0] consecutive B-frames: 20.3% 15.6% 14.1% 50.0%
[libx264 @ 0x561b136a16e0] mb I  I16..4: 28.3% 70.4%  1.2%
[libx264 @ 0x561b136a16e0] mb P  I16..4:  3.0%  8.2%  0.1%  P16..4: 38.2%  8.4%  3.4%  0.0%  0.0%    skip:38.8%
[libx264 @ 0x561b136a16e0] mb B  I16..4:  0.4%  1.6%  0.0%  B16..8: 33.8%  1.6%  0.1%  direct: 0.3%  skip:62.3%  L0:48.7% L1:49.5% BI: 1.8%
[libx264 @ 0x561b136a16e0] 8x8 transform intra:73.3% inter:86.6%
[libx264 @ 0x561b136a16e0] coded y,uvDC,uvAC intra: 41.9% 34.0% 1.1% inter: 6.4% 5.5% 0.0%
[libx264 @ 0x561b136a16e0] i16 v,h,dc,p: 28% 36% 19% 17%
[libx264 @ 0x561b136a16e0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 26% 39%  2%  1%  2%  1%  2%  1%
[libx264 @ 0x561b136a16e0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 35% 26% 10%  4%  7%  4%  8%  4%  3%
[libx264 @ 0x561b136a16e0] i8c dc,h,v,p: 57% 20% 21%  2%
[libx264 @ 0x561b136a16e0] Weighted P-Frames: Y:7.1% UV:0.0%
[libx264 @ 0x561b136a16e0] ref P L0: 66.5% 11.1% 16.3%  5.8%  0.3%
[libx264 @ 0x561b136a16e0] ref B L0: 82.4% 15.0%  2.6%
[libx264 @ 0x561b136a16e0] ref B L1: 95.2%  4.8%
[libx264 @ 0x561b136a16e0] kb/s:581.66
[aac @ 0x561b136a25e0] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:48556 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:48558 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:48560 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:48562 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:48564 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:48566 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:48568 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:48570 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:49600 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:49602 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:49604 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:49606 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:49610 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:49612 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:49614 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:49616 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:49618 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:49620 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:49622 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:51098 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51100 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:51102 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:51104 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51106 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51108 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:51110 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51112 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:51114 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51116 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:51118 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:51120 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51122 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51124 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51126 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 278x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.63s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:04<00:01,  1.95s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.36s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:04<00:00,  1.59s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.85s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:06<00:00,  6.85s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x557e953e4a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x557e953e4a80] using SAR=1/1
[libx264 @ 0x557e953e4a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x557e953e4a80] profile High, level 2.1
[libx264 @ 0x557e953e4a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      72kB time=00:00:01.69 bitrate= 349.1kbits/s speed=7.61x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.764828%
[libx264 @ 0x557e953e4a80] frame I:1     Avg QP:18.60  size:  9265
[libx264 @ 0x557e953e4a80] frame P:17    Avg QP:20.46  size:  2087
[libx264 @ 0x557e953e4a80] frame B:21    Avg QP:24.22  size:   564
[libx264 @ 0x557e953e4a80] consecutive B-frames: 25.6%  5.1%  7.7% 61.5%
[libx264 @ 0x557e953e4a80] mb I  I16..4: 29.4% 67.2%  3.3%
[libx264 @ 0x557e953e4a80] mb P  I16..4:  1.9%  6.2%  0.0%  P16..4: 29.1% 10.7%  6.6%  0.0%  0.0%    skip:45.4%
[libx264 @ 0x557e953e4a80] mb B  I16..4:  0.3%  2.1%  0.0%  B16..8: 33.5%  3.4%  0.3%  direct: 1.0%  skip:59.3%  L0:50.0% L1:47.2% BI: 2.8%
[libx264 @ 0x557e953e4a80] 8x8 transform intra:75.1% inter:84.8%
[libx264 @ 0x557e953e4a80] coded y,uvDC,uvAC intra: 40.8% 46.0% 6.5% inter: 9.0% 9.8% 0.2%
[libx264 @ 0x557e953e4a80] i16 v,h,dc,p: 38% 35% 22%  4%
[libx264 @ 0x557e953e4a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 48%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x557e953e4a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 46% 22%  6%  2%  6%  7%  6%  3%  2%
[libx264 @ 0x557e953e4a80] i8c dc,h,v,p: 48% 23% 26%  3%
[libx264 @ 0x557e953e4a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x557e953e4a80] ref P L0: 67.4% 12.4% 13.6%  6.7%
[libx264 @ 0x557e953e4a80] ref B L0: 81.1% 14.8%  4.1%
[libx264 @ 0x557e953e4a80] ref B L1: 95.0%  5.0%
[libx264 @ 0x557e953e4a80] kb/s:290.17
[aac @ 0x557e95406d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51128 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51130 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51132 - "GET /syncInputStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:51134 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51136 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51138 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51140 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51142 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51144 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 159x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:04,  2.45s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:02<00:01,  1.31s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.01s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.21s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.62s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.62s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55939afaaa80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55939afaaa80] using SAR=1/1
[libx264 @ 0x55939afaaa80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55939afaaa80] profile High, level 2.1
[libx264 @ 0x55939afaaa80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 351.3kbits/s speed=8.29x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.705096%
[libx264 @ 0x55939afaaa80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x55939afaaa80] frame P:20    Avg QP:20.42  size:  1887
[libx264 @ 0x55939afaaa80] frame B:18    Avg QP:24.38  size:   562
[libx264 @ 0x55939afaaa80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x55939afaaa80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x55939afaaa80] mb P  I16..4:  1.8%  5.6%  0.0%  P16..4: 27.3%  9.7%  6.1%  0.0%  0.0%    skip:49.5%
[libx264 @ 0x55939afaaa80] mb B  I16..4:  0.4%  2.2%  0.0%  B16..8: 32.5%  3.3%  0.2%  direct: 1.0%  skip:60.4%  L0:49.5% L1:47.1% BI: 3.5%
[libx264 @ 0x55939afaaa80] 8x8 transform intra:73.8% inter:83.4%
[libx264 @ 0x55939afaaa80] coded y,uvDC,uvAC intra: 40.3% 47.2% 6.7% inter: 9.2% 10.0% 0.2%
[libx264 @ 0x55939afaaa80] i16 v,h,dc,p: 37% 38% 22%  3%
[libx264 @ 0x55939afaaa80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 20% 51%  2%  1%  1%  1%  2%  2%
[libx264 @ 0x55939afaaa80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 49% 25%  7%  2%  4%  5%  4%  4%  1%
[libx264 @ 0x55939afaaa80] i8c dc,h,v,p: 50% 23% 25%  2%
[libx264 @ 0x55939afaaa80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55939afaaa80] ref P L0: 67.8% 12.6% 13.2%  6.4%
[libx264 @ 0x55939afaaa80] ref B L0: 82.7% 13.3%  4.0%
[libx264 @ 0x55939afaaa80] ref B L1: 95.3%  4.7%
[libx264 @ 0x55939afaaa80] kb/s:292.75
[aac @ 0x55939afccd20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51166 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51168 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51170 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51172 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51174 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51176 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51178 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51180 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 280x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:04<00:12,  4.05s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:05<00:04,  2.35s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:06<00:01,  1.80s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:07<00:00,  1.54s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:07<00:00,  1.87s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.08s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.08s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.13, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55efc55856e0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55efc55856e0] using SAR=1/1
[libx264 @ 0x55efc55856e0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55efc55856e0] profile High, level 3.1
[libx264 @ 0x55efc55856e0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   54 fps=0.0 q=0.0 size=       0kB time=00:00:00.00 bitrate=N/A speed=   0x    frame=   62 fps= 60 q=29.0 size=       0kB time=00:00:00.04 bitrate=   8.3kbits/s speed=0.0449x    frame=   64 fps= 49 q=-1.0 Lsize=     176kB time=00:00:02.27 bitrate= 633.9kbits/s speed=1.74x    
video:153kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.045170%
[libx264 @ 0x55efc55856e0] frame I:1     Avg QP:20.33  size: 12830
[libx264 @ 0x55efc55856e0] frame P:28    Avg QP:21.59  size:  3863
[libx264 @ 0x55efc55856e0] frame B:35    Avg QP:25.45  size:  1007
[libx264 @ 0x55efc55856e0] consecutive B-frames: 20.3%  9.4% 32.8% 37.5%
[libx264 @ 0x55efc55856e0] mb I  I16..4: 28.6% 70.4%  1.0%
[libx264 @ 0x55efc55856e0] mb P  I16..4:  3.1% 10.5%  0.1%  P16..4: 37.8%  8.1%  3.3%  0.0%  0.0%    skip:37.1%
[libx264 @ 0x55efc55856e0] mb B  I16..4:  0.2%  0.8%  0.0%  B16..8: 34.2%  1.5%  0.1%  direct: 0.2%  skip:62.9%  L0:53.5% L1:44.5% BI: 2.0%
[libx264 @ 0x55efc55856e0] 8x8 transform intra:75.6% inter:86.3%
[libx264 @ 0x55efc55856e0] coded y,uvDC,uvAC intra: 44.6% 34.8% 1.1% inter: 6.1% 5.3% 0.0%
[libx264 @ 0x55efc55856e0] i16 v,h,dc,p: 28% 35% 21% 15%
[libx264 @ 0x55efc55856e0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 27% 37%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x55efc55856e0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 34% 24% 10%  4%  6%  5%  8%  6%  2%
[libx264 @ 0x55efc55856e0] i8c dc,h,v,p: 57% 20% 21%  2%
[libx264 @ 0x55efc55856e0] Weighted P-Frames: Y:7.1% UV:0.0%
[libx264 @ 0x55efc55856e0] ref P L0: 67.2% 11.1% 16.3%  5.2%  0.2%
[libx264 @ 0x55efc55856e0] ref B L0: 80.7% 17.1%  2.2%
[libx264 @ 0x55efc55856e0] ref B L1: 96.2%  3.8%
[libx264 @ 0x55efc55856e0] kb/s:585.95
[aac @ 0x55efc55865e0] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:51182 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51184 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:51186 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51194 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51196 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51198 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51200 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51202 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 163x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.55s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.35s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.04s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.24s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.64s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.64s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 573 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5561c0f30a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5561c0f30a80] using SAR=1/1
[libx264 @ 0x5561c0f30a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5561c0f30a80] profile High, level 2.1
[libx264 @ 0x5561c0f30a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 351.0kbits/s speed=8.23x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.709021%
[libx264 @ 0x5561c0f30a80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x5561c0f30a80] frame P:20    Avg QP:20.47  size:  1887
[libx264 @ 0x5561c0f30a80] frame B:18    Avg QP:24.69  size:   558
[libx264 @ 0x5561c0f30a80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x5561c0f30a80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x5561c0f30a80] mb P  I16..4:  1.8%  5.6%  0.0%  P16..4: 27.5%  9.7%  5.6%  0.0%  0.0%    skip:49.7%
[libx264 @ 0x5561c0f30a80] mb B  I16..4:  0.4%  2.1%  0.0%  B16..8: 32.1%  3.1%  0.3%  direct: 1.1%  skip:60.9%  L0:48.8% L1:48.1% BI: 3.1%
[libx264 @ 0x5561c0f30a80] 8x8 transform intra:74.0% inter:82.8%
[libx264 @ 0x5561c0f30a80] coded y,uvDC,uvAC intra: 40.2% 46.2% 6.6% inter: 9.3% 10.1% 0.3%
[libx264 @ 0x5561c0f30a80] i16 v,h,dc,p: 36% 38% 22%  3%
[libx264 @ 0x5561c0f30a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 19% 20% 51%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x5561c0f30a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 47% 26%  7%  2%  4%  5%  5%  4%  1%
[libx264 @ 0x5561c0f30a80] i8c dc,h,v,p: 48% 23% 27%  2%
[libx264 @ 0x5561c0f30a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5561c0f30a80] ref P L0: 68.0% 12.4% 13.6%  6.0%
[libx264 @ 0x5561c0f30a80] ref B L0: 83.8% 12.3%  3.9%
[libx264 @ 0x5561c0f30a80] ref B L1: 95.5%  4.5%
[libx264 @ 0x5561c0f30a80] kb/s:292.36
[aac @ 0x5561c0f52d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51204 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51226 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51228 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51232 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51234 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51236 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51240 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51246 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51248 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51250 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51252 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 279x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.57s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.36s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.04s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.25s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.74s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.74s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 574 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x56016491fa80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x56016491fa80] using SAR=1/1
[libx264 @ 0x56016491fa80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x56016491fa80] profile High, level 2.1
[libx264 @ 0x56016491fa80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      72kB time=00:00:01.69 bitrate= 348.6kbits/s speed=8.44x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.770591%
[libx264 @ 0x56016491fa80] frame I:1     Avg QP:18.59  size:  9229
[libx264 @ 0x56016491fa80] frame P:17    Avg QP:20.42  size:  2086
[libx264 @ 0x56016491fa80] frame B:21    Avg QP:24.27  size:   561
[libx264 @ 0x56016491fa80] consecutive B-frames: 25.6%  5.1%  7.7% 61.5%
[libx264 @ 0x56016491fa80] mb I  I16..4: 30.1% 66.1%  3.8%
[libx264 @ 0x56016491fa80] mb P  I16..4:  1.9%  6.2%  0.0%  P16..4: 29.2% 10.7%  6.7%  0.0%  0.0%    skip:45.2%
[libx264 @ 0x56016491fa80] mb B  I16..4:  0.4%  2.1%  0.0%  B16..8: 33.0%  3.3%  0.3%  direct: 1.0%  skip:60.0%  L0:51.3% L1:45.9% BI: 2.7%
[libx264 @ 0x56016491fa80] 8x8 transform intra:74.2% inter:84.2%
[libx264 @ 0x56016491fa80] coded y,uvDC,uvAC intra: 40.1% 45.8% 6.7% inter: 8.9% 9.5% 0.2%
[libx264 @ 0x56016491fa80] i16 v,h,dc,p: 38% 36% 22%  5%
[libx264 @ 0x56016491fa80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 22% 48%  2%  2%  1%  1%  2%  2%
[libx264 @ 0x56016491fa80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 47% 21%  5%  2%  6%  6%  5%  4%  2%
[libx264 @ 0x56016491fa80] i8c dc,h,v,p: 48% 24% 26%  3%
[libx264 @ 0x56016491fa80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x56016491fa80] ref P L0: 67.3% 12.2% 13.8%  6.8%
[libx264 @ 0x56016491fa80] ref B L0: 81.9% 14.6%  3.5%
[libx264 @ 0x56016491fa80] ref B L1: 94.7%  5.3%
[libx264 @ 0x56016491fa80] kb/s:289.62
[aac @ 0x560164941d20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51254 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51256 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51258 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51260 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51262 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51264 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51286 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51288 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51290 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51292 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51294 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51296 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51298 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51300 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51302 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51304 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51306 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51308 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51310 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51312 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51314 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : LAME 64bits version 3.99.5 (http://lame.sf.net)
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    TLEN            : 1679
  Duration: 00:00:01.73, start: 0.034531, bitrate: 62 kb/s
    Stream #0:0: Audio: mp3, 32000 Hz, mono, s16p, 60 kb/s
    Metadata:
      encoder         : LAME3.99r
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    TLEN            : 1679
    IART            : Nemo Apps LLC
    INAM            : Nemo Japanese
    IPRD            : Nemo Japanese
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
    Side data:
      replaygain: track gain - -9.100000, track peak - 0.000020, album gain - unknown, album peak - unknown, 
size=     105kB time=00:00:01.67 bitrate= 512.7kbits/s speed= 336x    
video:0kB audio:105kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.133931%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 72
Extracting raw audio...
(80, 135)
Length of mel chunks: 39
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/3 [00:00<?, ?it/s][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 1/3 [00:02<00:05,  2.59s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 2/3 [00:03<00:01,  1.37s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.05s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 3/3 [00:03<00:00,  1.26s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.85s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:05<00:00,  5.86s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
  Duration: 00:00:01.68, bitrate: 512 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 32000 Hz, mono, s16, 512 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:01.56, start: 0.000000, bitrate: 574 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 480x360 [SAR 1:1 DAR 4:3], 554 kb/s, 25 fps, 25 tbr, 25 tbn, 25 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55f716af9a80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55f716af9a80] using SAR=1/1
[libx264 @ 0x55f716af9a80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55f716af9a80] profile High, level 2.1
[libx264 @ 0x55f716af9a80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=11 lookahead_threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    artist          : Nemo Apps LLC
    title           : Nemo Japanese
    album           : Nemo Japanese
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 480x360 [SAR 1:1 DAR 4:3], q=-1--1, 25 fps, 12800 tbn, 25 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 32000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   39 fps=0.0 q=-1.0 Lsize=      73kB time=00:00:01.69 bitrate= 351.4kbits/s speed=8.25x    
video:56kB audio:14kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.704632%
[libx264 @ 0x55f716af9a80] frame I:1     Avg QP:18.61  size:  9229
[libx264 @ 0x55f716af9a80] frame P:20    Avg QP:20.45  size:  1889
[libx264 @ 0x55f716af9a80] frame B:18    Avg QP:24.43  size:   560
[libx264 @ 0x55f716af9a80] consecutive B-frames: 35.9%  5.1%  7.7% 51.3%
[libx264 @ 0x55f716af9a80] mb I  I16..4: 29.1% 67.0%  3.9%
[libx264 @ 0x55f716af9a80] mb P  I16..4:  1.8%  5.9%  0.0%  P16..4: 26.8%  9.8%  5.6%  0.0%  0.0%    skip:49.9%
[libx264 @ 0x55f716af9a80] mb B  I16..4:  0.4%  2.1%  0.0%  B16..8: 32.1%  3.2%  0.3%  direct: 1.0%  skip:60.7%  L0:48.8% L1:47.9% BI: 3.2%
[libx264 @ 0x55f716af9a80] 8x8 transform intra:74.0% inter:84.5%
[libx264 @ 0x55f716af9a80] coded y,uvDC,uvAC intra: 39.9% 46.3% 6.6% inter: 9.1% 9.9% 0.2%
[libx264 @ 0x55f716af9a80] i16 v,h,dc,p: 37% 37% 20%  6%
[libx264 @ 0x55f716af9a80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 20% 21% 50%  2%  1%  1%  1%  2%  2%
[libx264 @ 0x55f716af9a80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 46% 28%  6%  2%  4%  5%  4%  4%  1%
[libx264 @ 0x55f716af9a80] i8c dc,h,v,p: 49% 23% 26%  2%
[libx264 @ 0x55f716af9a80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55f716af9a80] ref P L0: 67.7% 13.0% 13.2%  6.1%
[libx264 @ 0x55f716af9a80] ref B L0: 83.0% 13.1%  3.9%
[libx264 @ 0x55f716af9a80] ref B L1: 95.0%  5.0%
[libx264 @ 0x55f716af9a80] kb/s:292.79
[aac @ 0x55f716b1bd20] Qavg: 4960.706

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51316 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51318 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51320 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51322 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51324 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51326 - "GET /Wav2Lip/inputs/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51328 - "POST /emo/file_uploader HTTP/1.0" 200 OK
INFO:     192.168.1.27:51330 - "GET /Wav2Lip/inputs/input.mp3 HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, mp3, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    encoder         : Lavf54.6.100
  Duration: 00:00:02.27, start: 0.000000, bitrate: 258 kb/s
    Stream #0:0: Audio: mp3, 44100 Hz, mono, s16p, 256 kb/s
Stream mapping:
  Stream #0:0 -> #0:0 (mp3 (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    audiodelay      : 0
    canSeekToEnd    : true
    ISFT            : Lavf57.83.100
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     196kB time=00:00:02.27 bitrate= 705.9kbits/s speed= 367x    
video:0kB audio:196kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.038913%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 210
Extracting raw audio...
(80, 182)
Length of mel chunks: 64
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:04<00:12,  4.04s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:05<00:05,  2.61s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:07<00:02,  2.14s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:08<00:00,  1.73s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:08<00:00,  2.08s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.92s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.92s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.27, bitrate: 705 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 44100 Hz, mono, s16, 705 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.13, start: 0.000000, bitrate: 1172 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 850x480 [SAR 1:1 DAR 85:48], 1163 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55f7fc5756e0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55f7fc5756e0] using SAR=1/1
[libx264 @ 0x55f7fc5756e0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55f7fc5756e0] profile High, level 3.1
[libx264 @ 0x55f7fc5756e0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/DIS.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 850x480 [SAR 1:1 DAR 85:48], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 44100 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   64 fps=0.0 q=-1.0 Lsize=     175kB time=00:00:02.27 bitrate= 629.6kbits/s speed=4.52x    
video:152kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.068989%
[libx264 @ 0x55f7fc5756e0] frame I:1     Avg QP:20.33  size: 12830
[libx264 @ 0x55f7fc5756e0] frame P:28    Avg QP:21.61  size:  3755
[libx264 @ 0x55f7fc5756e0] frame B:35    Avg QP:25.60  size:  1058
[libx264 @ 0x55f7fc5756e0] consecutive B-frames: 20.3% 12.5% 23.4% 43.8%
[libx264 @ 0x55f7fc5756e0] mb I  I16..4: 28.6% 70.4%  1.0%
[libx264 @ 0x55f7fc5756e0] mb P  I16..4:  3.1%  9.2%  0.1%  P16..4: 38.0%  7.9%  3.3%  0.0%  0.0%    skip:38.4%
[libx264 @ 0x55f7fc5756e0] mb B  I16..4:  0.3%  1.2%  0.0%  B16..8: 34.6%  1.6%  0.1%  direct: 0.3%  skip:61.9%  L0:50.2% L1:47.9% BI: 1.9%
[libx264 @ 0x55f7fc5756e0] 8x8 transform intra:74.1% inter:86.9%
[libx264 @ 0x55f7fc5756e0] coded y,uvDC,uvAC intra: 43.2% 34.6% 1.2% inter: 6.2% 5.4% 0.0%
[libx264 @ 0x55f7fc5756e0] i16 v,h,dc,p: 28% 35% 20% 17%
[libx264 @ 0x55f7fc5756e0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 26% 38%  3%  1%  1%  1%  2%  1%
[libx264 @ 0x55f7fc5756e0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 38% 19% 10%  5%  6%  6%  6%  9%  2%
[libx264 @ 0x55f7fc5756e0] i8c dc,h,v,p: 56% 21% 21%  2%
[libx264 @ 0x55f7fc5756e0] Weighted P-Frames: Y:7.1% UV:0.0%
[libx264 @ 0x55f7fc5756e0] ref P L0: 66.6% 11.1% 16.5%  5.7%  0.2%
[libx264 @ 0x55f7fc5756e0] ref B L0: 80.5% 16.6%  2.9%
[libx264 @ 0x55f7fc5756e0] ref B L1: 94.9%  5.1%
[libx264 @ 0x55f7fc5756e0] kb/s:581.22
[aac @ 0x55f7fc5765e0] Qavg: 74.266

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
DIS
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion DIS
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'DIS']
disgust <class 'str'>
INFO:     192.168.1.27:51332 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51334 - "GET /emo/syncInput?emotion=disgust HTTP/1.0" 200 OK
INFO:     192.168.1.27:51336 - "GET /Emotional-Talking-Faces/results/DIS.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51360 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51362 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51390 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51392 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     270kB time=00:00:02.88 bitrate= 768.2kbits/s speed= 133x    
video:0kB audio:270kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.028212%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 135
Extracting raw audio...
(80, 231)
Length of mel chunks: 82
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:03<00:17,  3.47s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:04<00:07,  1.97s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:05<00:04,  1.48s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:06<00:02,  1.26s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:07<00:01,  1.12s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:07<00:00,  1.14it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:07<00:00,  1.25s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.14s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.14s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.88, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.73, start: 0.000000, bitrate: 840 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 828 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x564fe36939c0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x564fe36939c0] using SAR=1/1
[libx264 @ 0x564fe36939c0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x564fe36939c0] profile High, level 3.0
[libx264 @ 0x564fe36939c0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   82 fps=0.0 q=-1.0 Lsize=     151kB time=00:00:02.88 bitrate= 428.2kbits/s speed=7.62x    
video:122kB audio:25kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.842922%
[libx264 @ 0x564fe36939c0] frame I:1     Avg QP:18.69  size: 10193
[libx264 @ 0x564fe36939c0] frame P:45    Avg QP:21.77  size:  2103
[libx264 @ 0x564fe36939c0] frame B:36    Avg QP:23.93  size:   529
[libx264 @ 0x564fe36939c0] consecutive B-frames: 32.9% 24.4%  3.7% 39.0%
[libx264 @ 0x564fe36939c0] mb I  I16..4: 42.4% 52.6%  5.0%
[libx264 @ 0x564fe36939c0] mb P  I16..4:  0.9%  3.1%  0.1%  P16..4: 26.2%  6.6%  3.6%  0.0%  0.0%    skip:59.5%
[libx264 @ 0x564fe36939c0] mb B  I16..4:  0.2%  0.7%  0.0%  B16..8: 24.0%  1.4%  0.1%  direct: 0.5%  skip:73.2%  L0:45.7% L1:52.8% BI: 1.4%
[libx264 @ 0x564fe36939c0] 8x8 transform intra:68.7% inter:81.3%
[libx264 @ 0x564fe36939c0] coded y,uvDC,uvAC intra: 35.5% 35.7% 3.5% inter: 6.0% 6.6% 0.1%
[libx264 @ 0x564fe36939c0] i16 v,h,dc,p: 38% 32% 18% 12%
[libx264 @ 0x564fe36939c0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 22% 41%  2%  1%  1%  2%  2%  2%
[libx264 @ 0x564fe36939c0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 42% 23% 15%  4%  3%  4%  3%  4%  2%
[libx264 @ 0x564fe36939c0] i8c dc,h,v,p: 52% 24% 21%  3%
[libx264 @ 0x564fe36939c0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x564fe36939c0] ref P L0: 71.1% 10.7% 13.0%  5.2%
[libx264 @ 0x564fe36939c0] ref B L0: 79.7% 16.8%  3.5%
[libx264 @ 0x564fe36939c0] ref B L1: 96.3%  3.7%
[libx264 @ 0x564fe36939c0] kb/s:362.56
[aac @ 0x564fe36986e0] Qavg: 126.725

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51394 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51396 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51398 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51400 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51402 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51404 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:51406 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51408 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51410 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51412 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51414 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51416 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51418 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51420 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51422 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51424 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     281kB time=00:00:03.00 bitrate= 768.2kbits/s speed= 200x    
video:0kB audio:281kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.027083%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 152
Extracting raw audio...
(80, 241)
Length of mel chunks: 86
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/6 [00:00<?, ?it/s][A
 17%|â–ˆâ–‹        | 1/6 [00:03<00:17,  3.45s/it][A
 33%|â–ˆâ–ˆâ–ˆâ–Ž      | 2/6 [00:04<00:07,  1.94s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 3/6 [00:05<00:04,  1.47s/it][A
 67%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‹   | 4/6 [00:06<00:02,  1.23s/it][A
 83%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Ž | 5/6 [00:06<00:01,  1.10s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:08<00:00,  1.08s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 6/6 [00:08<00:00,  1.34s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.64s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.64s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:03.00, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.87, start: 0.000000, bitrate: 911 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 899 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x559457d3eb80] -qscale is ignored, -crf is recommended.
[libx264 @ 0x559457d3eb80] using SAR=1/1
[libx264 @ 0x559457d3eb80] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x559457d3eb80] profile High, level 3.0
[libx264 @ 0x559457d3eb80] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   86 fps=0.0 q=-1.0 Lsize=     165kB time=00:00:03.00 bitrate= 449.5kbits/s speed=7.56x    
video:135kB audio:26kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.663532%
[libx264 @ 0x559457d3eb80] frame I:1     Avg QP:19.20  size:  8748
[libx264 @ 0x559457d3eb80] frame P:45    Avg QP:21.39  size:  2324
[libx264 @ 0x559457d3eb80] frame B:40    Avg QP:23.22  size:   604
[libx264 @ 0x559457d3eb80] consecutive B-frames: 30.2% 16.3% 20.9% 32.6%
[libx264 @ 0x559457d3eb80] mb I  I16..4: 45.2% 48.3%  6.5%
[libx264 @ 0x559457d3eb80] mb P  I16..4:  1.4%  4.3%  0.1%  P16..4: 27.1%  7.2%  3.0%  0.0%  0.0%    skip:57.0%
[libx264 @ 0x559457d3eb80] mb B  I16..4:  0.3%  0.8%  0.0%  B16..8: 24.8%  1.6%  0.1%  direct: 0.7%  skip:71.7%  L0:48.9% L1:48.9% BI: 2.2%
[libx264 @ 0x559457d3eb80] 8x8 transform intra:68.1% inter:79.3%
[libx264 @ 0x559457d3eb80] coded y,uvDC,uvAC intra: 31.7% 37.4% 3.8% inter: 6.3% 6.6% 0.1%
[libx264 @ 0x559457d3eb80] i16 v,h,dc,p: 38% 31% 22%  8%
[libx264 @ 0x559457d3eb80] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 22% 42%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x559457d3eb80] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 21% 15%  2%  4%  5%  5%  5%  2%
[libx264 @ 0x559457d3eb80] i8c dc,h,v,p: 52% 24% 21%  3%
[libx264 @ 0x559457d3eb80] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x559457d3eb80] ref P L0: 71.7%  9.4% 13.9%  5.0%
[libx264 @ 0x559457d3eb80] ref B L0: 78.6% 16.1%  5.2%
[libx264 @ 0x559457d3eb80] ref B L1: 96.1%  3.9%
[libx264 @ 0x559457d3eb80] kb/s:383.78
[aac @ 0x559457d43300] Qavg: 128.455

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51426 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51428 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51430 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51432 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51434 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:51438 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51440 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51442 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51444 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     219kB time=00:00:02.34 bitrate= 768.3kbits/s speed= 304x    
video:0kB audio:219kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.034722%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 139
Extracting raw audio...
(80, 188)
Length of mel chunks: 66
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:13,  3.49s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:05,  1.94s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:02,  1.44s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.21s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.09it/s][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:06<00:00,  1.29s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.82s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:08<00:00,  8.82s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.34, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.20, start: 0.000000, bitrate: 1036 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 1025 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5605844b6ac0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5605844b6ac0] using SAR=1/1
[libx264 @ 0x5605844b6ac0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5605844b6ac0] profile High, level 3.0
[libx264 @ 0x5605844b6ac0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   66 fps=0.0 q=-1.0 Lsize=     152kB time=00:00:02.34 bitrate= 530.6kbits/s speed=5.66x    
video:129kB audio:20kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.443985%
[libx264 @ 0x5605844b6ac0] frame I:1     Avg QP:19.70  size:  9411
[libx264 @ 0x5605844b6ac0] frame P:36    Avg QP:22.14  size:  2822
[libx264 @ 0x5605844b6ac0] frame B:29    Avg QP:24.54  size:   686
[libx264 @ 0x5605844b6ac0] consecutive B-frames: 31.8% 27.3%  4.5% 36.4%
[libx264 @ 0x5605844b6ac0] mb I  I16..4: 40.6% 53.2%  6.2%
[libx264 @ 0x5605844b6ac0] mb P  I16..4:  2.0%  6.5%  0.1%  P16..4: 35.4%  8.4%  3.2%  0.0%  0.0%    skip:44.4%
[libx264 @ 0x5605844b6ac0] mb B  I16..4:  0.3%  1.2%  0.0%  B16..8: 30.9%  1.7%  0.1%  direct: 0.6%  skip:65.1%  L0:51.4% L1:46.1% BI: 2.6%
[libx264 @ 0x5605844b6ac0] 8x8 transform intra:70.7% inter:81.4%
[libx264 @ 0x5605844b6ac0] coded y,uvDC,uvAC intra: 31.2% 35.6% 2.9% inter: 8.1% 7.8% 0.1%
[libx264 @ 0x5605844b6ac0] i16 v,h,dc,p: 38% 29% 23% 11%
[libx264 @ 0x5605844b6ac0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 20% 45%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x5605844b6ac0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 20% 12%  3%  5%  5%  6%  6%  2%
[libx264 @ 0x5605844b6ac0] i8c dc,h,v,p: 58% 22% 18%  2%
[libx264 @ 0x5605844b6ac0] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5605844b6ac0] ref P L0: 76.2%  5.8% 13.5%  4.4%
[libx264 @ 0x5605844b6ac0] ref B L0: 81.6% 15.4%  3.0%
[libx264 @ 0x5605844b6ac0] ref B L1: 95.9%  4.1%
[libx264 @ 0x5605844b6ac0] kb/s:476.06
[aac @ 0x5605844bb780] Qavg: 85.866

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51446 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51448 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51450 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51476 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51478 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51480 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51482 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51484 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     203kB time=00:00:02.16 bitrate= 768.3kbits/s speed= 296x    
video:0kB audio:202kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.037616%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 114
Extracting raw audio...
(80, 173)
Length of mel chunks: 61
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.35s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.90s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.43s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.59s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:06<00:00,  1.74s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.32s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.32s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.16, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.03, start: 0.000000, bitrate: 928 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 914 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x563e1830bb40] -qscale is ignored, -crf is recommended.
[libx264 @ 0x563e1830bb40] using SAR=1/1
[libx264 @ 0x563e1830bb40] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x563e1830bb40] profile High, level 3.0
[libx264 @ 0x563e1830bb40] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   61 fps=0.0 q=-1.0 Lsize=     125kB time=00:00:02.17 bitrate= 469.6kbits/s speed=5.74x    
video:103kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.775408%
[libx264 @ 0x563e1830bb40] frame I:1     Avg QP:18.96  size:  9377
[libx264 @ 0x563e1830bb40] frame P:40    Avg QP:22.03  size:  2065
[libx264 @ 0x563e1830bb40] frame B:20    Avg QP:23.63  size:   627
[libx264 @ 0x563e1830bb40] consecutive B-frames: 45.9% 26.2% 14.8% 13.1%
[libx264 @ 0x563e1830bb40] mb I  I16..4: 37.2% 56.4%  6.3%
[libx264 @ 0x563e1830bb40] mb P  I16..4:  1.3%  4.3%  0.1%  P16..4: 25.4%  6.1%  2.8%  0.0%  0.0%    skip:60.0%
[libx264 @ 0x563e1830bb40] mb B  I16..4:  0.3%  0.9%  0.0%  B16..8: 27.0%  1.7%  0.1%  direct: 0.7%  skip:69.3%  L0:51.2% L1:46.3% BI: 2.5%
[libx264 @ 0x563e1830bb40] 8x8 transform intra:70.4% inter:80.6%
[libx264 @ 0x563e1830bb40] coded y,uvDC,uvAC intra: 31.7% 33.4% 3.2% inter: 6.9% 6.8% 0.1%
[libx264 @ 0x563e1830bb40] i16 v,h,dc,p: 39% 36% 17%  8%
[libx264 @ 0x563e1830bb40] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 21% 42%  2%  1%  1%  1%  2%  2%
[libx264 @ 0x563e1830bb40] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 40% 20% 12%  4%  4%  4%  4%  7%  4%
[libx264 @ 0x563e1830bb40] i8c dc,h,v,p: 54% 22% 21%  3%
[libx264 @ 0x563e1830bb40] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x563e1830bb40] ref P L0: 73.8% 10.6% 11.4%  4.2%
[libx264 @ 0x563e1830bb40] ref B L0: 77.0% 20.2%  2.8%
[libx264 @ 0x563e1830bb40] ref B L1: 98.5%  1.5%
[libx264 @ 0x563e1830bb40] kb/s:411.19
[aac @ 0x563e183104c0] Qavg: 737.885

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51486 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51488 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51490 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51492 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51494 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51496 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51498 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51500 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51502 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51504 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51506 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:51508 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:51510 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51512 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:51514 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51516 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51518 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     242kB time=00:00:02.58 bitrate= 768.2kbits/s speed= 231x    
video:0kB audio:242kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.031492%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 89
Extracting raw audio...
(80, 207)
Length of mel chunks: 73
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:13,  3.40s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:05,  1.90s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:02,  1.44s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.23s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.33s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.51s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.13s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.13s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.58, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.43, start: 0.000000, bitrate: 879 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 866 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5618cdb80880] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5618cdb80880] using SAR=1/1
[libx264 @ 0x5618cdb80880] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5618cdb80880] profile High, level 3.0
[libx264 @ 0x5618cdb80880] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   73 fps=0.0 q=-1.0 Lsize=     134kB time=00:00:02.58 bitrate= 425.1kbits/s speed=7.34x    
video:108kB audio:22kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.979864%
[libx264 @ 0x5618cdb80880] frame I:1     Avg QP:17.86  size:  9180
[libx264 @ 0x5618cdb80880] frame P:36    Avg QP:21.37  size:  2210
[libx264 @ 0x5618cdb80880] frame B:36    Avg QP:24.43  size:   585
[libx264 @ 0x5618cdb80880] consecutive B-frames: 27.4% 19.2%  4.1% 49.3%
[libx264 @ 0x5618cdb80880] mb I  I16..4: 45.6% 49.6%  4.8%
[libx264 @ 0x5618cdb80880] mb P  I16..4:  1.3%  3.7%  0.1%  P16..4: 24.5%  7.0%  3.4%  0.0%  0.0%    skip:60.0%
[libx264 @ 0x5618cdb80880] mb B  I16..4:  0.2%  0.5%  0.0%  B16..8: 25.7%  1.6%  0.1%  direct: 0.7%  skip:71.3%  L0:50.3% L1:47.7% BI: 2.0%
[libx264 @ 0x5618cdb80880] 8x8 transform intra:65.7% inter:81.7%
[libx264 @ 0x5618cdb80880] coded y,uvDC,uvAC intra: 33.2% 38.0% 4.6% inter: 5.8% 6.2% 0.1%
[libx264 @ 0x5618cdb80880] i16 v,h,dc,p: 44% 31% 16%  8%
[libx264 @ 0x5618cdb80880] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 22% 41%  2%  1%  1%  2%  2%  2%
[libx264 @ 0x5618cdb80880] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 51% 15% 12%  3%  4%  3%  4%  5%  2%
[libx264 @ 0x5618cdb80880] i8c dc,h,v,p: 50% 26% 21%  3%
[libx264 @ 0x5618cdb80880] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x5618cdb80880] ref P L0: 70.9%  9.7% 14.1%  5.2%
[libx264 @ 0x5618cdb80880] ref B L0: 79.8% 17.1%  3.2%
[libx264 @ 0x5618cdb80880] ref B L1: 96.2%  3.8%
[libx264 @ 0x5618cdb80880] kb/s:361.02
[aac @ 0x5618cdb84fe0] Qavg: 109.173

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51520 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51522 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51524 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51568 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51570 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51574 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51576 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51578 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     236kB time=00:00:02.52 bitrate= 768.2kbits/s speed= 228x    
video:0kB audio:236kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.032242%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 120
Extracting raw audio...
(80, 202)
Length of mel chunks: 72
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:13,  3.38s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:05,  1.90s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:02,  1.45s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.23s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.28s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:07<00:00,  1.49s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.09s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.09s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.52, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.40, start: 0.000000, bitrate: 868 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 855 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55a21d13c880] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55a21d13c880] using SAR=1/1
[libx264 @ 0x55a21d13c880] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55a21d13c880] profile High, level 3.0
[libx264 @ 0x55a21d13c880] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   72 fps=0.0 q=-1.0 Lsize=     139kB time=00:00:02.53 bitrate= 449.7kbits/s speed=6.86x    
video:114kB audio:22kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.831426%
[libx264 @ 0x55a21d13c880] frame I:1     Avg QP:18.71  size:  9301
[libx264 @ 0x55a21d13c880] frame P:39    Avg QP:21.70  size:  2239
[libx264 @ 0x55a21d13c880] frame B:32    Avg QP:24.15  size:   601
[libx264 @ 0x55a21d13c880] consecutive B-frames: 29.2% 33.3%  4.2% 33.3%
[libx264 @ 0x55a21d13c880] mb I  I16..4: 43.8% 50.5%  5.7%
[libx264 @ 0x55a21d13c880] mb P  I16..4:  1.2%  3.8%  0.1%  P16..4: 26.0%  7.0%  3.2%  0.0%  0.0%    skip:58.8%
[libx264 @ 0x55a21d13c880] mb B  I16..4:  0.3%  0.9%  0.0%  B16..8: 24.6%  1.6%  0.1%  direct: 0.6%  skip:71.9%  L0:44.3% L1:53.4% BI: 2.3%
[libx264 @ 0x55a21d13c880] 8x8 transform intra:67.3% inter:80.5%
[libx264 @ 0x55a21d13c880] coded y,uvDC,uvAC intra: 34.3% 35.4% 4.1% inter: 6.5% 6.7% 0.1%
[libx264 @ 0x55a21d13c880] i16 v,h,dc,p: 42% 31% 19%  9%
[libx264 @ 0x55a21d13c880] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 26% 21% 42%  2%  2%  2%  2%  2%  2%
[libx264 @ 0x55a21d13c880] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 44% 21% 12%  3%  5%  5%  4%  6%  2%
[libx264 @ 0x55a21d13c880] i8c dc,h,v,p: 53% 23% 21%  3%
[libx264 @ 0x55a21d13c880] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55a21d13c880] ref P L0: 73.7%  9.0% 12.5%  4.8%
[libx264 @ 0x55a21d13c880] ref B L0: 79.4% 18.1%  2.5%
[libx264 @ 0x55a21d13c880] ref B L1: 96.9%  3.1%
[libx264 @ 0x55a21d13c880] kb/s:386.15
[aac @ 0x55a21d141440] Qavg: 659.782

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51580 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51582 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51584 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51586 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51588 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51590 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     253kB time=00:00:02.70 bitrate= 768.2kbits/s speed= 350x    
video:0kB audio:253kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.030093%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 146
Extracting raw audio...
(80, 217)
Length of mel chunks: 77
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/5 [00:00<?, ?it/s][A
 20%|â–ˆâ–ˆ        | 1/5 [00:03<00:14,  3.58s/it][A
 40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 2/5 [00:04<00:06,  2.00s/it][A
 60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 3/5 [00:05<00:03,  1.50s/it][A
 80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 4/5 [00:06<00:01,  1.25s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:08<00:00,  1.46s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5/5 [00:08<00:00,  1.62s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.68s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:10<00:00, 10.68s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.70, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.57, start: 0.000000, bitrate: 928 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 916 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x5557dcca89c0] -qscale is ignored, -crf is recommended.
[libx264 @ 0x5557dcca89c0] using SAR=1/1
[libx264 @ 0x5557dcca89c0] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x5557dcca89c0] profile High, level 3.0
[libx264 @ 0x5557dcca89c0] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   77 fps=0.0 q=-1.0 Lsize=     167kB time=00:00:02.70 bitrate= 504.7kbits/s speed=6.78x    
video:140kB audio:23kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 2.374948%
[libx264 @ 0x5557dcca89c0] frame I:1     Avg QP:20.21  size:  8466
[libx264 @ 0x5557dcca89c0] frame P:50    Avg QP:21.61  size:  2371
[libx264 @ 0x5557dcca89c0] frame B:26    Avg QP:23.34  size:   592
[libx264 @ 0x5557dcca89c0] consecutive B-frames: 50.6% 13.0%  0.0% 36.4%
[libx264 @ 0x5557dcca89c0] mb I  I16..4: 42.6% 52.9%  4.5%
[libx264 @ 0x5557dcca89c0] mb P  I16..4:  2.0%  5.4%  0.1%  P16..4: 32.1%  6.5%  2.6%  0.0%  0.0%    skip:51.2%
[libx264 @ 0x5557dcca89c0] mb B  I16..4:  0.3%  1.2%  0.0%  B16..8: 27.6%  1.2%  0.1%  direct: 0.6%  skip:69.0%  L0:53.5% L1:44.5% BI: 2.0%
[libx264 @ 0x5557dcca89c0] 8x8 transform intra:68.9% inter:82.2%
[libx264 @ 0x5557dcca89c0] coded y,uvDC,uvAC intra: 29.2% 37.0% 3.5% inter: 7.5% 9.4% 0.1%
[libx264 @ 0x5557dcca89c0] i16 v,h,dc,p: 38% 29% 22% 12%
[libx264 @ 0x5557dcca89c0] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 25% 23% 45%  2%  1%  1%  1%  2%  1%
[libx264 @ 0x5557dcca89c0] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 41% 24% 10%  3%  6%  5%  6%  5%  2%
[libx264 @ 0x5557dcca89c0] i8c dc,h,v,p: 51% 24% 22%  3%
[libx264 @ 0x5557dcca89c0] Weighted P-Frames: Y:2.0% UV:0.0%
[libx264 @ 0x5557dcca89c0] ref P L0: 76.0%  7.5% 12.4%  3.9%  0.2%
[libx264 @ 0x5557dcca89c0] ref B L0: 82.7% 14.1%  3.2%
[libx264 @ 0x5557dcca89c0] ref B L1: 96.0%  4.0%
[libx264 @ 0x5557dcca89c0] kb/s:443.83
[aac @ 0x5557dccad540] Qavg: 118.898

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51592 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51594 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51596 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51620 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51622 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51624 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:51626 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51650 - "POST /emo/file_saver HTTP/1.0" 200 OK
INFO:     192.168.1.27:51652 - "GET /emo/ HTTP/1.0" 200 OK
mp4 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51654 - "POST /emo/file_saver HTTP/1.0" 200 OK
mp3 <class 'starlette.datastructures.UploadFile'>
INFO:     192.168.1.27:51656 - "POST /emo/file_saver HTTP/1.0" 200 OK
ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Input #0, matroska,webm, from 'static/Wav2Lip/inputs/input.mp3':
  Metadata:
    encoder         : Chrome
  Duration: N/A, start: 0.000000, bitrate: N/A
    Stream #0:0(eng): Audio: opus, 48000 Hz, mono, fltp (default)
Stream mapping:
  Stream #0:0 -> #0:0 (opus (native) -> pcm_s16le (native))
Press [q] to stop, [?] for help
Output #0, wav, to 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    ISFT            : Lavf57.83.100
    Stream #0:0(eng): Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s (default)
    Metadata:
      encoder         : Lavc57.107.100 pcm_s16le
size=     208kB time=00:00:02.22 bitrate= 768.3kbits/s speed= 231x    
video:0kB audio:208kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 0.036599%
/home/sahil/fastapi_demo/static/Emotional-Talking-Faces/audio.py:101: FutureWarning: Pass sr=16000, n_fft=800 as keyword args. From version 0.10 passing these as positional arguments will result in an error
  fmin=hp.fmin, fmax=hp.fmax)
Using cuda for inference.
Reading video frames...
Number of frames available for inference: 105
Extracting raw audio...
(80, 178)
Length of mel chunks: 63
  0%|          | 0/1 [00:00<?, ?it/s]
  0%|          | 0/4 [00:00<?, ?it/s][A
 25%|â–ˆâ–ˆâ–Œ       | 1/4 [00:03<00:10,  3.40s/it][A
 50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 2/4 [00:04<00:03,  1.88s/it][A
 75%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–Œ  | 3/4 [00:05<00:01,  1.40s/it][A
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:07<00:00,  1.65s/it][A100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 4/4 [00:07<00:00,  1.77s/it]
100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.46s/it]100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:09<00:00,  9.46s/it]ffmpeg version 3.4.11-0ubuntu0.1 Copyright (c) 2000-2022 the FFmpeg developers
  built with gcc 7 (Ubuntu 7.5.0-3ubuntu1~18.04)
  configuration: --prefix=/usr --extra-version=0ubuntu0.1 --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --enable-gpl --disable-stripping --enable-avresample --enable-avisynth --enable-gnutls --enable-ladspa --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librubberband --enable-librsvg --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvorbis --enable-libvpx --enable-libwavpack --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-omx --enable-openal --enable-opengl --enable-sdl2 --enable-libdc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libopencv --enable-libx264 --enable-shared
  libavutil      55. 78.100 / 55. 78.100
  libavcodec     57.107.100 / 57.107.100
  libavformat    57. 83.100 / 57. 83.100
  libavdevice    57. 10.100 / 57. 10.100
  libavfilter     6.107.100 /  6.107.100
  libavresample   3.  7.  0 /  3.  7.  0
  libswscale      4.  8.100 /  4.  8.100
  libswresample   2.  9.100 /  2.  9.100
  libpostproc    54.  7.100 / 54.  7.100
Guessed Channel Layout for Input Stream #0.0 : mono
Input #0, wav, from 'static/Emotional-Talking-Faces/temp/temp.wav':
  Metadata:
    encoder         : Lavf57.83.100
  Duration: 00:00:02.22, bitrate: 768 kb/s
    Stream #0:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, mono, s16, 768 kb/s
Input #1, avi, from 'static/Emotional-Talking-Faces/temp/result.avi':
  Metadata:
    encoder         : Lavf58.76.100
  Duration: 00:00:02.10, start: 0.000000, bitrate: 798 kb/s
    Stream #1:0: Video: mpeg4 (Simple Profile) (FMP4 / 0x34504D46), yuv420p, 640x480 [SAR 1:1 DAR 4:3], 783 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc
Stream mapping:
  Stream #1:0 -> #0:0 (mpeg4 (native) -> h264 (libx264))
  Stream #0:0 -> #0:1 (pcm_s16le (native) -> aac (native))
Press [q] to stop, [?] for help
[libx264 @ 0x55dfed810b40] -qscale is ignored, -crf is recommended.
[libx264 @ 0x55dfed810b40] using SAR=1/1
[libx264 @ 0x55dfed810b40] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
[libx264 @ 0x55dfed810b40] profile High, level 3.0
[libx264 @ 0x55dfed810b40] 264 - core 152 r2854 e9a5903 - H.264/MPEG-4 AVC codec - Copyleft 2003-2017 - http://www.videolan.org/x264.html - options: cabac=1 ref=3 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=7 psy=1 psy_rd=1.00:0.00 mixed_ref=1 me_range=16 chroma_me=1 trellis=1 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=15 lookahead_threads=2 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=40 rc=crf mbtree=1 crf=23.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
Output #0, mp4, to 'static/Emotional-Talking-Faces/results/HAP.mp4':
  Metadata:
    encoder         : Lavf57.83.100
    Stream #0:0: Video: h264 (libx264) (avc1 / 0x31637661), yuv420p(progressive), 640x480 [SAR 1:1 DAR 4:3], q=-1--1, 30 fps, 15360 tbn, 30 tbc
    Metadata:
      encoder         : Lavc57.107.100 libx264
    Side data:
      cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: -1
    Stream #0:1: Audio: aac (LC) (mp4a / 0x6134706D), 48000 Hz, mono, fltp, 69 kb/s
    Metadata:
      encoder         : Lavc57.107.100 aac
frame=   63 fps=0.0 q=-1.0 Lsize=     113kB time=00:00:02.24 bitrate= 413.4kbits/s speed= 6.3x    
video:90kB audio:19kB subtitle:0kB other streams:0kB global headers:0kB muxing overhead: 3.170006%
[libx264 @ 0x55dfed810b40] frame I:1     Avg QP:18.10  size:  9216
[libx264 @ 0x55dfed810b40] frame P:34    Avg QP:21.15  size:  1996
[libx264 @ 0x55dfed810b40] frame B:28    Avg QP:22.79  size:   529
[libx264 @ 0x55dfed810b40] consecutive B-frames: 38.1%  3.2% 14.3% 44.4%
[libx264 @ 0x55dfed810b40] mb I  I16..4: 44.0% 52.8%  3.2%
[libx264 @ 0x55dfed810b40] mb P  I16..4:  1.3%  3.9%  0.1%  P16..4: 25.0%  5.6%  3.0%  0.0%  0.0%    skip:61.1%
[libx264 @ 0x55dfed810b40] mb B  I16..4:  0.3%  1.0%  0.0%  B16..8: 23.2%  1.1%  0.1%  direct: 0.8%  skip:73.6%  L0:50.2% L1:48.1% BI: 1.7%
[libx264 @ 0x55dfed810b40] 8x8 transform intra:67.8% inter:81.1%
[libx264 @ 0x55dfed810b40] coded y,uvDC,uvAC intra: 32.1% 33.2% 3.1% inter: 5.4% 6.5% 0.1%
[libx264 @ 0x55dfed810b40] i16 v,h,dc,p: 43% 29% 18% 10%
[libx264 @ 0x55dfed810b40] i8 v,h,dc,ddl,ddr,vr,hd,vl,hu: 28% 23% 42%  2%  1%  1%  2%  2%  1%
[libx264 @ 0x55dfed810b40] i4 v,h,dc,ddl,ddr,vr,hd,vl,hu: 52% 15% 10%  3%  3%  5%  2%  7%  2%
[libx264 @ 0x55dfed810b40] i8c dc,h,v,p: 55% 23% 20%  3%
[libx264 @ 0x55dfed810b40] Weighted P-Frames: Y:0.0% UV:0.0%
[libx264 @ 0x55dfed810b40] ref P L0: 72.0%  9.3% 13.4%  5.3%
[libx264 @ 0x55dfed810b40] ref B L0: 80.6% 13.8%  5.6%
[libx264 @ 0x55dfed810b40] ref B L1: 97.8%  2.2%
[libx264 @ 0x55dfed810b40] kb/s:350.04
[aac @ 0x55dfed8150a0] Qavg: 737.377

Load checkpoint from: static/checkpoint/checkpoint_step000720000.pth
Model loaded
HAP
CUDA_VISIBLE_DEVICES=0,1 python static/Emotional-Talking-Faces/inference.py --checkpoint_path static/checkpoint/checkpoint_step000720000.pth --face static/Wav2Lip/inputs/input.mp4 --audio static/Wav2Lip/inputs/input.mp3 --emotion HAP
['CUDA_VISIBLE_DEVICES=0,1', 'python', 'static/Emotional-Talking-Faces/inference.py', '--checkpoint_path', 'static/checkpoint/checkpoint_step000720000.pth', '--face', 'static/Wav2Lip/inputs/input.mp4', '--audio', 'static/Wav2Lip/inputs/input.mp3', '--emotion', 'HAP']
happiness <class 'str'>
INFO:     192.168.1.27:51658 - "POST /emo/generate_result HTTP/1.0" 200 OK
INFO:     192.168.1.27:51660 - "GET /emo/syncInput?emotion=happiness HTTP/1.0" 200 OK
INFO:     192.168.1.27:51662 - "GET /Emotional-Talking-Faces/results/HAP.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51664 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51666 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51668 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:51670 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51966 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51968 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:51970 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:51972 - "GET /eg/input.mp4 HTTP/1.0" 200 OK
INFO:     192.168.1.27:51974 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51976 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51978 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:51980 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:51982 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52018 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:52020 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52022 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:52024 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:52026 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:52028 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52030 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:52032 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:52034 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:52198 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52200 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52202 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52204 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52206 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52208 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52210 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52212 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52214 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52216 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52218 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52220 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52222 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52224 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52226 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52228 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52230 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52232 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52234 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52236 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52238 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52240 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52242 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52244 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52246 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52248 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52250 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52254 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52256 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52258 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52260 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52262 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52264 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:52266 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52268 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52270 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52272 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52274 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52276 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52278 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52280 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:52282 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:52284 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52306 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52308 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52310 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52312 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52314 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52316 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:52624 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:52626 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52628 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:52712 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:52718 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52720 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:52742 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:52918 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:52920 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:53106 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:53236 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:53406 - "GET /images/applicationImage.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:53700 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55012 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55014 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55016 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55018 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55022 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55020 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55024 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55026 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55028 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:55030 - "GET /emo/model HTTP/1.0" 200 OK
INFO:     192.168.1.27:55032 - "GET /modelStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55034 - "GET /images/Framework.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55036 - "GET /emo/application HTTP/1.0" 200 OK
INFO:     192.168.1.27:55038 - "GET /applicationStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55040 - "GET /emo/example HTTP/1.0" 200 OK
INFO:     192.168.1.27:55042 - "GET /eg.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55044 - "GET /eg/input.wav HTTP/1.0" 200 OK
INFO:     192.168.1.27:55250 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55268 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55270 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55272 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55274 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55278 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55280 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55514 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55516 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55518 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55520 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55522 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55524 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55526 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55528 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55530 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:55532 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55534 - "GET /emo/ HTTP/1.0" 200 OK
INFO:     192.168.1.27:55536 - "GET /style2.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55538 - "GET /processingStyle.css HTTP/1.0" 200 OK
INFO:     192.168.1.27:55540 - "GET /play2.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55542 - "GET /play_audio.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55544 - "GET /play_video.js HTTP/1.0" 200 OK
INFO:     192.168.1.27:55546 - "GET /images/banner.jpeg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55548 - "GET /images/icon.jpg HTTP/1.0" 200 OK
INFO:     192.168.1.27:55550 - "GET /images/favicon-small.png HTTP/1.0" 200 OK
INFO:     192.168.1.27:32954 - "GET /emo/example HTTP/1.0" 200 OK
